var qe=Object.defineProperty,Ue=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var Fe=(e,u,s)=>u in e?qe(e,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[u]=s,vt=(e,u)=>{for(var s in u||(u={}))Re.call(u,s)&&Fe(e,s,u[s]);if(he)for(var s of he(u))Ge.call(u,s)&&Fe(e,s,u[s]);return e},ht=(e,u)=>Ue(e,He(u));var M=(e,u,s)=>new Promise((a,l)=>{var p=n=>{try{r(s.next(n))}catch(i){l(i)}},m=n=>{try{r(s.throw(n))}catch(i){l(i)}},r=n=>n.done?a(n.value):Promise.resolve(n.value).then(p,m);r((s=s.apply(e,u)).next())});import{d as V,M as We,s as g,r as jt,o,c as d,a as t,x as L,a0 as ke,F as N,E as K,g as R,m as $,b as x,w as T,l as F,N as Lt,_ as S,C as P,T as A,Y as Ze,p as q,q as U,a4 as ct,$ as tt,Z as bt,X as st,a5 as Bt,e as O,i as G,a2 as Be,A as Y,B as lt,a6 as nt,a7 as je,D as Et,z as Z,G as Xt,Q as we,j as mt,h as Nt,U as Qt,u as Ae,P as at,a8 as xe,a9 as Xe,aa as me,I as Qe,O as Ye,ab as Ke,ac as Je,y as it,ad as tu,V as Se,W as eu}from"./index.js?v=773b75f2";import{c as uu,i as Ft}from"./chunk.6d3585bb.js";import{u as su,i as nu,b as ou,c as au,d as iu,e as lu,f as cu,g as du,G as Ht,F as ru,a as _u}from"./chunk.42689f42.js";var pu="/luci-static/istorex/logo.png?v=d233e332",vu="/luci-static/istorex/task.svg?v=f6a42032",hu="/luci-static/istorex/safari.svg?v=1bf8526f",Fu="/luci-static/istorex/setup.svg?v=69c7a200",mu="/luci-static/istorex/logout.svg?v=e9e539f8",fu="/luci-static/istorex/icon_language_auto.png?v=45447541",Eu="/luci-static/istorex/icon_language_cantonese.png?v=77010a8d",Cu="/luci-static/istorex/icon_language_cn.png?v=9b80c184",gu="/luci-static/istorex/icon_language_en.png?v=ea39cc2b",Zt={exports:{}};(function(e,u){(function(s,a){var l={};s.PubSub?(l=s.PubSub,console.warn("PubSub already loaded, using existing version")):(s.PubSub=l,a(l)),e!==void 0&&e.exports&&(u=e.exports=l),u.PubSub=l,e.exports=u=l})(typeof window=="object"&&window||uu,function(s){var a={},l=-1,p="*";function m(c){var E;for(E in c)if(Object.prototype.hasOwnProperty.call(c,E))return!0;return!1}function r(c){return function(){throw c}}function n(c,E,h){try{c(E,h)}catch(k){setTimeout(r(k),0)}}function i(c,E,h){c(E,h)}function _(c,E,h,k){var w=a[E],y=k?i:n,C;if(!!Object.prototype.hasOwnProperty.call(a,E))for(C in w)Object.prototype.hasOwnProperty.call(w,C)&&y(w[C],c,h)}function f(c,E,h){return function(){var w=String(c),y=w.lastIndexOf(".");for(_(c,c,E,h);y!==-1;)w=w.substr(0,y),y=w.lastIndexOf("."),_(c,w,E,h);_(c,p,E,h)}}function b(c){var E=String(c),h=Boolean(Object.prototype.hasOwnProperty.call(a,E)&&m(a[E]));return h}function D(c){for(var E=String(c),h=b(E)||b(p),k=E.lastIndexOf(".");!h&&k!==-1;)E=E.substr(0,k),k=E.lastIndexOf("."),h=b(E);return h}function v(c,E,h,k){c=typeof c=="symbol"?c.toString():c;var w=f(c,E,k),y=D(c);return y?(h===!0?w():setTimeout(w,0),!0):!1}s.publish=function(c,E){return v(c,E,!1,s.immediateExceptions)},s.publishSync=function(c,E){return v(c,E,!0,s.immediateExceptions)},s.subscribe=function(c,E){if(typeof E!="function")return!1;c=typeof c=="symbol"?c.toString():c,Object.prototype.hasOwnProperty.call(a,c)||(a[c]={});var h="uid_"+String(++l);return a[c][h]=E,h},s.subscribeAll=function(c){return s.subscribe(p,c)},s.subscribeOnce=function(c,E){var h=s.subscribe(c,function(){s.unsubscribe(h),E.apply(this,arguments)});return s},s.clearAllSubscriptions=function(){a={}},s.clearSubscriptions=function(E){var h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&h.indexOf(E)===0&&delete a[h]},s.countSubscriptions=function(E){var h,k,w=0;for(h in a)if(Object.prototype.hasOwnProperty.call(a,h)&&h.indexOf(E)===0){for(k in a[h])w++;break}return w},s.getSubscriptions=function(E){var h,k=[];for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&h.indexOf(E)===0&&k.push(h);return k},s.unsubscribe=function(c){var E=function(I){var z;for(z in a)if(Object.prototype.hasOwnProperty.call(a,z)&&z.indexOf(I)===0)return!0;return!1},h=typeof c=="string"&&(Object.prototype.hasOwnProperty.call(a,c)||E(c)),k=!h&&typeof c=="string",w=typeof c=="function",y=!1,C,B,H;if(h){s.clearSubscriptions(c);return}for(C in a)if(Object.prototype.hasOwnProperty.call(a,C)){if(B=a[C],k&&B[c]){delete B[c],y=c;break}if(w)for(H in B)Object.prototype.hasOwnProperty.call(B,H)&&B[H]===c&&(delete B[H],y=!0)}return y}})})(Zt,Zt.exports);var Ie=Zt.exports;const Ct=e=>(q("data-v-019a9ac0"),e=e(),U(),e),$u={class:"header"},bu=Ct(()=>t("img",{src:pu,alt:"logo"},null,-1)),yu={class:"menu"},Du={class:"language"},ku={class:"actions"},Bu=["onClick"],wu=["src"],Au=["src"],xu=["src"],Su=["src"],Iu={class:"task"},Pu={key:0,class:"dropdown-container"},Vu={class:"title"},Tu=Ct(()=>t("span",null,"\u5B89\u88C5\u4EFB\u52A1",-1)),Mu=Ct(()=>t("div",{class:"auto"},null,-1)),Lu={class:"dropdown-container_menus"},Ou={class:"dropdown-menu_item"},zu=Ct(()=>t("div",{class:"auto"},null,-1)),Nu={class:"status"},qu={key:0},Uu={key:1},Hu={class:"btn"},Ru=Ct(()=>t("span",null," \u5B89\u88C5\u4E2D ",-1)),Gu={class:"wizard"},Wu={key:0,class:"dropdown-container",style:{width:"140px"}},Zu=Ct(()=>t("h2",{class:"title"},"\u5207\u6362\u5411\u5BFC\u6A21\u5F0F",-1)),ju=Ct(()=>t("a",{href:"/cgi-bin/luci/admin/quickstart/"},[t("img",{width:"28",height:"28",title:"\u5207\u6362\u81F3\u666E\u901A\u7248\u672C",src:Fu,alt:"setup"})],-1)),Xu=Ct(()=>t("a",{href:"/cgi-bin/luci/admin/logout"},[t("img",{width:"28",height:"28",title:"\u6CE8\u9500",src:mu,alt:"logout"})],-1)),Qu=V({__name:"index",setup(e){const u=We(),s=g(!1),a=g(localStorage.getItem("i18n")),l=()=>{s.value=!s.value},p=C=>b.value.indexOf(C)!=-1,m=C=>D.value.indexOf(C)!=-1,r=C=>{let B="";C===0&&(B="auto"),C===1&&(B="zh-CN"),C===2&&(B="zh-TW"),C===3&&(B="en"),a.value=B,localStorage.setItem("i18n",B),B==="auto"?ct.global.locale=navigator.language:ct.global.locale=B,Ie.publish("changeLocale",B)},n=g(!1),i=g(!1),_=g(!1),f=g([]),b=g([]),D=g([]),v=()=>M(this,null,function*(){try{const C=yield P.Quickstart.SetupResult.GET();if(C.data){const{result:B,error:H}=C.data;C.data.success==0&&B&&(f.value=B.packages||[],b.value=B.success||[],D.value=B.failed||[])}}catch(C){console.log(C)}});let c=!1;setTimeout(()=>M(this,null,function*(){yield v(),localStorage.getItem("nas_guide_init")&&(c=!0,n.value=!0)}),1e3);const E=()=>M(this,null,function*(){_.value||(yield k("router"))}),h=()=>M(this,null,function*(){_.value||(yield k("next-nas"))}),k=C=>M(this,null,function*(){_.value=!0;try{const B=yield P.Istorex.Updata.POST({model:C});if(A.Success("\u64CD\u4F5C\u6210\u529F"),B.data){const{success:H,error:I}=B.data;if(I)throw I;H===0&&u.push({path:`/${C}`})}}catch(B){A.Error(`${B}`)}finally{_.value=!1}}),w=()=>{n.value=!1,c&&localStorage.removeItem("nas_guide_init")},y=()=>{Ze.autoSetup.Open()};return(C,B)=>{const H=jt("icon-loading");return o(),d("div",$u,[bu,t("div",yu,[t("span",Du,[L(t("div",ku,[t("div",{class:"menu_background",onClick:l}),t("ul",null,[(o(),d(N,null,K(["Auto","\u7B80\u4F53\u4E2D\u6587","\u7E41\u4F53\u4E2D\u6587","\u82F1\u6587"],(I,z)=>t("li",{onClick:ut=>r(z)},F(I),9,Bu)),64))])],512),[[ke,s.value]]),a.value==="auto"?(o(),d("img",{key:0,width:"28",height:"28",src:R(fu),onClick:l},null,8,wu)):$("",!0),a.value==="zh-CN"?(o(),d("img",{key:1,width:"28",height:"28",src:R(Cu),onClick:l},null,8,Au)):$("",!0),a.value==="zh-TW"?(o(),d("img",{key:2,width:"28",height:"28",src:R(Eu),onClick:l},null,8,xu)):$("",!0),a.value==="en"?(o(),d("img",{key:3,width:"28",height:"28",src:R(gu),onClick:l},null,8,Su)):$("",!0)]),t("div",Iu,[t("img",{onClick:B[0]||(B[0]=I=>n.value=!n.value),width:"28",height:"28",title:"\u5B89\u88C5\u4EFB\u52A1\u8FDB\u5EA6",src:vu,alt:"logo"}),n.value?(o(),d("div",{key:0,class:"dropdown-bg",onClick:w})):$("",!0),x(Lt,null,{default:T(()=>[n.value?(o(),d("div",Pu,[t("h2",Vu,[Tu,t("span",null,"("+F(b.value.length+D.value.length+"/"+f.value.length)+")",1),Mu,t("a",{onClick:y},"\u67E5\u770B\u65E5\u5FD7")]),t("div",Lu,[(o(!0),d(N,null,K(f.value,I=>(o(),d("div",Ou,[t("span",null,F(I),1),zu,t("div",Nu,[p(I)?(o(),d("span",qu," \u6210\u529F ")):m(I)?(o(),d("span",Uu," \u5931\u8D25 ")):(o(),d(N,{key:2},[t("div",Hu,[x(H)]),Ru],64))])]))),256))])])):$("",!0)]),_:1})]),t("div",Gu,[t("img",{onClick:B[1]||(B[1]=I=>i.value=!i.value),width:"28",height:"28",title:"\u5411\u5BFC\u6A21\u5F0F",src:hu,alt:"safari"}),i.value?(o(),d("div",{key:0,class:"dropdown-bg",onClick:B[2]||(B[2]=I=>i.value=!1)})):$("",!0),x(Lt,{name:"fade"},{default:T(()=>[i.value?(o(),d("div",Wu,[Zu,t("div",{class:"dropdown-menu_item",style:{"margin-bottom":"8px"},onClick:E}," \u8DEF\u7531\u6A21\u5F0F "),t("div",{class:"dropdown-menu_item",onClick:h},"NAS\u6A21\u5F0F")])):$("",!0)]),_:1})]),ju,Xu])])}}});var Yu=S(Qu,[["__scopeId","data-v-019a9ac0"]]);const Ku={},Ju={class:"SearchBar"},ts=["placeholder"];function es(e,u){return o(),d("div",Ju,[t("input",{placeholder:e.$t("\u5E94\u7528\u641C\u7D22")},null,8,ts)])}var us=S(Ku,[["render",es],["__scopeId","data-v-a531abbc"]]);const ss={class:"widget"},ns={key:0,class:"title"},os=V({__name:"index",props:{title:{},height:{},maxHeight:{},contentStyle:{}},setup(e){const u=e;return(s,a)=>(o(),d("div",ss,[t("div",{style:tt(`height: ${u.height};max-height:${u.maxHeight}`)},[u.title?(o(),d("span",ns,F(u.title),1)):$("",!0),t("div",{style:tt(u.contentStyle)},[bt(s.$slots,"default",{},void 0,!0)],4)],4)]))}});var ft=S(os,[["__scopeId","data-v-261e10c6"]]);const as={},is={t:"1640746738262",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1216",width:"128",height:"128"},ls=t("path",{d:"M511.232 438.8352L112.9984 40.6016A51.2 51.2 0 0 0 40.6016 112.9984L438.784 511.232 40.6016 909.4656a51.2 51.2 0 1 0 72.3968 72.448l398.2336-398.2848 398.2336 398.2848a51.2 51.2 0 1 0 72.448-72.448l-398.2848-398.2336 398.2848-398.2336A51.2 51.2 0 0 0 909.4656 40.6016L511.232 438.784z","p-id":"1217"},null,-1),cs=[ls];function ds(e,u){return o(),d("svg",is,cs)}var rs=S(as,[["render",ds]]);const _s=e=>(q("data-v-664f08dd"),e=e(),U(),e),ps={id:"actioner"},vs={key:0,class:"action-container"},hs={class:"action-container_header"},Fs=_s(()=>t("div",null,null,-1)),ms={class:"title"},fs={class:"action-container_body"},Es=V({__name:"index",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){const u=e,s=g(!1);st(()=>{s.value=!0,document.body.setAttribute("lock-scroll","true")}),Bt(()=>{document.body.removeAttribute("lock-scroll")});const a=()=>{u.Close&&(s.value=!1,setTimeout(()=>{u.Close&&u.Close()},300))};return(l,p)=>(o(),d("div",ps,[t("div",{class:"bg",onClick:a}),e.type!=null?bt(l.$slots,"default",{key:0},void 0,!0):(o(),d(N,{key:1},[s.value?(o(),d("div",vs,[t("div",hs,[Fs,t("div",ms,F(e.title),1),t("button",{class:"close",title:"\u5173\u95ED",onClick:a},[x(rs)])]),t("div",fs,[bt(l.$slots,"default",{},void 0,!0)])])):$("",!0)],64))]))}});var Cs=S(Es,[["__scopeId","data-v-664f08dd"]]);const ot=V({__name:"modal",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){return(u,s)=>(o(),O(Cs,{Close:e.Close,type:e.type,title:e.title},{default:T(()=>[bt(u.$slots,"default")]),_:3},8,["Close","type","title"]))}}),gs={},$s={t:"1649907260906",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2793","xmlns:xlink":"http://www.w3.org/1999/xlink"},bs=t("path",{d:"M764.904497 251.418146 259.086289 251.418146c-143.076626 0-259.065314 115.989711-259.065314 259.065314 0 143.077649 115.988688 259.063267 259.065314 259.063267l505.818207 0c143.074579 0 259.063267-115.985618 259.063267-259.063267C1023.967764 367.407857 907.980099 251.418146 764.904497 251.418146zM764.904497 747.164974c-130.507356 0-236.682537-106.175181-236.682537-236.682537S634.397141 273.798876 764.904497 273.798876s236.683561 106.176205 236.683561 236.683561S895.411853 747.164974 764.904497 747.164974z","p-id":"2794",fill:"#52C41A"},null,-1),ys=[bs];function Ds(e,u){return o(),d("svg",$s,ys)}var ks=S(gs,[["render",Ds]]);const Bs={},ws={t:"1649907515643",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2971","xmlns:xlink":"http://www.w3.org/1999/xlink"},As=t("path",{d:"M764.867148 249.793136 259.0735 249.793136c-143.070486 0-259.052011 115.984594-259.052011 259.052011 0 143.07151 115.982548 259.050987 259.052011 259.050987l505.793648 0c143.067416 0 259.050987-115.979478 259.050987-259.050987C1023.917112 365.778754 907.933541 249.793136 764.867148 249.793136zM259.0735 745.516428c-130.501216 0-236.671281-106.172111-236.671281-236.671281 0-130.501216 106.170065-236.671281 236.671281-236.671281S495.744781 378.344954 495.744781 508.84617C495.744781 639.34534 389.574716 745.516428 259.0735 745.516428z","p-id":"2972",fill:"#999"},null,-1),xs=[As];function Ss(e,u){return o(),d("svg",ws,xs)}var Is=S(Bs,[["render",Ss]]);const Ps={class:"checkbox_switch_on"},Vs={class:"checkbox_switch_off"},Ts=V({__name:"index",props:{modelValue:{type:Boolean,required:!0},height:{type:String,default:"100%"}},emits:["update:modelValue"],setup(e,{emit:u}){const s=e,a=G({get:()=>s.modelValue.valueOf(),set:l=>u("update:modelValue",l)});return(l,p)=>(o(),d("label",{class:"checkbox_switch",style:tt({height:e.height})},[L(t("input",{type:"checkbox","onUpdate:modelValue":p[0]||(p[0]=m=>a.value=m)},null,512),[[Be,a.value]]),t("span",Ps,[x(ks)]),t("span",Vs,[x(Is)]),bt(l.$slots,"default",{},void 0,!0)],4))}});var Ms=S(Ts,[["__scopeId","data-v-1b6cddbc"]]);const J=e=>(q("data-v-76799e09"),e=e(),U(),e),Ls=["onSubmit"],Os=J(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u5185\u7F51\u914D\u7F6E")],-1)),zs={class:"actioner-dns_body"},Ns={class:"label-item"},qs=J(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5730\u5740")],-1)),Us={class:"label-item_value"},Hs={class:"label-item"},Rs=J(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5B50\u7F51\u63A9\u7801")],-1)),Gs={class:"label-item_value"},Ws={key:0,class:"chose_dhcp"},Zs={key:0,class:"dhcp_info"},js={key:1,class:"dhcp_info"},Xs={class:"label-item"},Qs=J(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u8D77\u59CB\u5730\u5740")],-1)),Ys={class:"label-item_value"},Ks={class:"label-item"},Js=J(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u7ED3\u675F\u5730\u5740")],-1)),tn={class:"label-item_value"},en={class:"actioner-dns_footer"},un=["disabled"],sn={key:1,class:"actioner-dns"},nn=J(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u66F4\u6362\u914D\u7F6E")],-1)),on={class:"actioner-dns_body"},an={key:0,class:"setting_status"},ln=J(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128"},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063"})])],-1)),cn=J(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u6210\u529F",-1)),dn=["href"],rn={key:1,class:"setting_status"},_n=J(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063200324",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5898",width:"128",height:"128"},[t("path",{d:"M549.044706 512l166.189176-166.249412a26.383059 26.383059 0 0 0 0-36.98447 26.383059 26.383059 0 0 0-37.044706 0L512 475.015529l-166.249412-166.249411a26.383059 26.383059 0 0 0-36.98447 0 26.383059 26.383059 0 0 0 0 37.044706L475.015529 512l-166.249411 166.249412a26.383059 26.383059 0 0 0 0 36.98447 26.383059 26.383059 0 0 0 37.044706 0L512 548.984471l166.249412 166.249411a26.383059 26.383059 0 0 0 36.98447 0 26.383059 26.383059 0 0 0 0-37.044706L548.984471 512zM512 1024a512 512 0 1 1 0-1024 512 512 0 0 1 0 1024z",fill:"#E84335","p-id":"5899"})])],-1)),pn=J(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u5931\u8D25",-1)),vn=J(()=>t("p",null,"\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E",-1)),hn={key:2,class:"setting_status"},Fn=J(()=>t("div",{class:"success_icon"},[t("svg",{width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])])])],-1)),mn=J(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u8D85\u65F6",-1)),fn=J(()=>t("p",null," \u8DEF\u7531\u5668 IP \u53EF\u80FD\u5DF2\u7ECF\u4FEE\u6539\u6210\u529F\u3002\u82E5\u5237\u65B0\u9875\u9762\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u8FDE\u63A5\u8DEF\u7531\u5668\uFF0C\u5426\u5219\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E\u3002 ",-1)),En=V({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),a=g({lanIp:"",netMask:"255.255.255.0",enableDhcp:!1,dhcpStart:"",dhcpEnd:""});g("");const l=g(!1);g(!0),g(!1);const p=g(""),m=g(2),r=g(!1),n=g("timeout");let i=!0;(()=>{P.Guide.GetLan.GET().then(c=>{c.data.result&&(r.value=c.data.result.enableDhcp||!1,c.data.result.enableDhcp=!1,a.value=c.data.result,c.data.result.lanIp!==location.hostname&&(i=!1))})})();const f=()=>{const c=a.value;if(!Ft.isValidIPv4(c.lanIp)){A.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(c.netMask)){A.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}const E=Ft.calcMaskRange(c.lanIp,c.netMask);c.dhcpStart=E[0],c.dhcpEnd=E[1],a.value=c},b=()=>{const c=a.value;if(!Ft.isValidIPv4(c.lanIp)){A.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(c.netMask)){A.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}if(c.enableDhcp&&!(Ft.isValidIPv4(c.dhcpStart)&&Ft.isValidIPv4(c.dhcpEnd)&&Ft.isValidMaskRange(c.lanIp,c.netMask,c.dhcpStart,c.dhcpEnd))){A.Warning("DHCP\u7684IP\u6C60\u683C\u5F0F\u9519\u8BEF\u6216\u8D85\u51FA\u5B50\u7F51\u8303\u56F4");return}const E=A.Loading("\u6B63\u5728\u914D\u7F6E\u2026\u8BF7\u7A0D\u7B49",30);let h=0;const k=y=>{n.value=y,s.value=1,h=1,E.Close()},w=()=>{const y=new Date().getTime()+3e4,C=i?location.protocol+"//"+c.lanIp+(location.port?":"+location.port:""):location.origin,B=C+"/luci-static/resources/icons/loading.gif",H=()=>{h==0&&(new Date().getTime()>y?k("timeout"):window.setTimeout(z,2e3))},I=()=>{h==0&&(p.value=C+location.pathname,k("success"),window.setTimeout(()=>{m.value=1},1e3),window.setTimeout(()=>{location.href=p.value},2e3))},z=()=>{if(h!=0)return;console.log("check online ",B);const ut=new Image;ut.onload=I,ut.onerror=H,ut.src=B};window.setTimeout(z,5e3)};P.Guide.LanIp.POST(c).then(y=>{var C;if(y!=null&&y.data){if((y.data.success||0)==0)return;if((C=y.data)!=null&&C.error)throw y.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(y=>{h==0&&(k("fail"),A.Error(y))}),w(),window.setTimeout(()=>{h==0&&k("timeout")},3e4)},D=c=>{c.preventDefault(),u.Close&&u.Close()},v=c=>{location.reload()};return(c,E)=>(o(),O(ot,{Close:e.Close,type:1},{default:T(()=>[s.value==0?(o(),d("form",{key:0,class:"actioner-dns",onSubmit:lt(b,["prevent"])},[Os,t("div",zs,[t("div",Ns,[qs,t("div",Us,[L(t("input",{type:"text",placeholder:"192.168.100.1",required:"","onUpdate:modelValue":E[0]||(E[0]=h=>a.value.lanIp=h),onChange:f},null,544),[[Y,a.value.lanIp,void 0,{trim:!0}]])])]),t("div",Hs,[Rs,t("div",Gs,[L(t("input",{type:"text",placeholder:"255.255.255.0",required:"","onUpdate:modelValue":E[1]||(E[1]=h=>a.value.netMask=h),onChange:f},null,544),[[Y,a.value.netMask,void 0,{trim:!0}]])])]),r.value?(o(),d("div",Ws,[x(Ms,{modelValue:a.value.enableDhcp,"onUpdate:modelValue":E[2]||(E[2]=h=>a.value.enableDhcp=h)},{default:T(()=>[a.value.enableDhcp?(o(),d("span",Zs,"\u4FEE\u6539DHCP\u670D\u52A1")):(o(),d("span",js,"\u4FDD\u6301DHCP\u670D\u52A1\u8BBE\u7F6E"))]),_:1},8,["modelValue"])])):$("",!0),a.value.enableDhcp?(o(),d(N,{key:1},[t("div",Xs,[Qs,t("div",Ys,[L(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":E[3]||(E[3]=h=>a.value.dhcpStart=h)},null,512),[[Y,a.value.dhcpStart,void 0,{trim:!0}]])])]),t("div",Ks,[Js,t("div",tn,[L(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":E[4]||(E[4]=h=>a.value.dhcpEnd=h)},null,512),[[Y,a.value.dhcpEnd,void 0,{trim:!0}]])])])],64)):$("",!0)]),t("div",en,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:l.value}," \u786E\u8BA4 ",8,un),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:D}," \u53D6\u6D88 ")])],40,Ls)):s.value==1?(o(),d("div",sn,[nn,t("div",on,[n.value=="success"?(o(),d("div",an,[ln,cn,t("a",{href:p.value,class:"NewAdress"},F(m.value)+"s\u540E \u8DF3\u8F6C\u65B0\u5730\u5740",9,dn)])):n.value=="fail"?(o(),d("div",rn,[_n,pn,vn,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:v}," \u6211\u77E5\u9053\u4E86 ")])):n.value=="timeout"?(o(),d("div",hn,[Fn,mn,fn,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:v}," \u5237\u65B0\u9875\u9762 ")])):$("",!0)])])):$("",!0)]),_:1},8,["Close"]))}});var Cn=S(En,[["__scopeId","data-v-76799e09"]]);const fe=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=nt(Cn,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const yt=e=>(q("data-v-95c09170"),e=e(),U(),e),gn=["onSubmit"],$n=yt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),bn={class:"actioner-dns_body"},yn={class:"label-item"},Dn=yt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u9009\u9879")],-1)),kn={class:"label-item_value"},Bn=["disabled"],wn=yt(()=>t("option",{value:"manual"},"\u81EA\u5B9A\u4E49DNS",-1)),An={class:"label-item"},xn=yt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u670D\u52A1\u5668\u5730\u5740")],-1)),Sn={class:"label-item_value"},In=["onUpdate:modelValue"],Pn=yt(()=>t("div",{class:"label-item_key"},"\u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740",-1)),Vn={class:"label-item_value"},Tn=["onUpdate:modelValue"],Mn={key:1,class:"label-message"},Ln={class:"actioner-dns_footer"},On=["disabled"],zn={key:1,class:"actioner-dns"},Nn=yt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),qn=yt(()=>t("div",{class:"actioner-dns_body"},[t("div",{class:"config-message"},"DNS\u914D\u7F6E\u5DF2\u4FDD\u5B58")],-1)),Un=V({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),a=je(),l=a.status,p=G(()=>a.status.proto!="static"),m=()=>{let D=l.dnsList||[];for(D=D.filter(v=>v);D.length<2;)D.push("");return D},r=g({interfaceName:l.defaultInterface||"",dnsProto:l.dnsProto||"manual",manualDnsIp:m()}),n=g(""),i=g(!1),_=()=>M(this,null,function*(){n.value="";let D={};switch(r.value.dnsProto){case"auto":break;case"manual":if(D.manualDnsIp=[],!r.value.manualDnsIp[0]){A.Error("\u81F3\u5C11\u9700\u8981\u586B\u5199\u4E00\u4E2ADNS");return}D.manualDnsIp=r.value.manualDnsIp.filter(c=>c);break}D.dnsProto=r.value.dnsProto,D.interfaceName=r.value.interfaceName;const v=A.Loading("\u914D\u7F6E\u4E2D...");try{const c=yield P.Guide.DnsConfig.POST(D);if(c!=null&&c.data){const{success:E,error:h}=c==null?void 0:c.data;h&&(n.value=h),(E==null||E==0)&&(A.Success("\u914D\u7F6E\u6210\u529F"),s.value=1)}}catch(c){n.value=c}v.Close()}),f=D=>{D.preventDefault(),u.Close&&u.Close()},b=D=>{location.reload()};return(D,v)=>(o(),O(ot,{Close:e.Close,type:1},{default:T(()=>[s.value==0?(o(),d("form",{key:0,class:"actioner-dns",onSubmit:lt(_,["prevent"])},[$n,t("div",bn,[t("div",yn,[Dn,t("div",kn,[L(t("select",{"onUpdate:modelValue":v[0]||(v[0]=c=>r.value.dnsProto=c)},[t("option",{value:"auto",disabled:!p.value}," \u81EA\u52A8\u83B7\u53D6DNS ",8,Bn),wn],512),[[Et,r.value.dnsProto]])])]),r.value.dnsProto=="manual"?(o(!0),d(N,{key:0},K(r.value.manualDnsIp,(c,E)=>(o(),d("div",An,[E==0?(o(),d(N,{key:0},[xn,t("div",Sn,[L(t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165DNS\u5730\u5740",required:"","onUpdate:modelValue":h=>r.value.manualDnsIp[E]=h},null,8,In),[[Y,r.value.manualDnsIp[E],void 0,{trim:!0}]])])],64)):(o(),d(N,{key:1},[Pn,t("div",Vn,[L(t("input",{type:"text",placeholder:"\u5907\u7528DNS\u5730\u5740","onUpdate:modelValue":h=>r.value.manualDnsIp[E]=h},null,8,Tn),[[Y,r.value.manualDnsIp[E],void 0,{trim:!0}]])])],64))]))),256)):$("",!0),n.value?(o(),d("div",Mn,F(n.value),1)):$("",!0)]),t("div",Ln,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:i.value}," \u786E\u8BA4 ",8,On),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:f}," \u53D6\u6D88 ")])],40,gn)):s.value==1?(o(),d("div",zn,[Nn,qn,t("div",{class:"actioner-dns_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:b}," \u5B8C\u6210 ")])])):$("",!0)]),_:1},8,["Close"]))}});var Hn=S(Un,[["__scopeId","data-v-95c09170"]]);const Ee=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=nt(Hn,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}},Rn={},Gn={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Wn=t("g",{id:"icon_alert",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"14",height:"14"}),t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),Zn=[Wn];function jn(e,u){return o(),d("svg",Gn,Zn)}var dt=S(Rn,[["render",jn]]);const et=e=>(q("data-v-5141058a"),e=e(),U(),e),Xn={key:0,class:"actioner-dns"},Qn=et(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u6C99\u7BB1\u6A21\u5F0F\u914D\u7F6E\u5411\u5BFC")],-1)),Yn={class:"actioner-dns_body"},Kn=et(()=>t("p",{class:"sandbox_info"}," \u4E00\u4E2A\u7B80\u6613\u6C99\u7BB1\uFF0C\u65B9\u4FBF\u7528\u6765\u5B9E\u9A8C\u7CFB\u7EDF\u914D\u7F6E\u548C\u7A0B\u5E8F\uFF0C\u65B9\u4FBF\u5F00\u53D1\u672A\u5B8C\u6210\u7684\u8F6F\u4EF6\uFF0C\u4F46\u4E0D\u4FDD\u62A4Docker\u548C\u786C\u76D8\u7684\u6570\u636E ",-1)),Jn={key:0,class:"disk_loading_icon"},to=et(()=>t("span",{class:"disk_loading_info"},"\u6B63\u5728\u52A0\u8F7D\u4E2D...",-1)),eo={key:1,class:"disk_tips"},uo=et(()=>t("span",null,"\u68C0\u6D4B\u4E0D\u5230\u6302\u8F7D\u7684\u78C1\u76D8\u4FE1\u606F\uFF0C\u8BF7\u5148\u63D2\u4E0A\u78C1\u76D8\uFF0C\u5EFA\u8BAE\u4F7F\u7528U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378",-1)),so={class:"label-item"},no=et(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u78C1\u76D8\uFF08\u5EFA\u8BAE\u9009\u62E9U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378\uFF09")],-1)),oo={class:"label-item_value"},ao=et(()=>t("option",{value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u78C1\u76D8",-1)),io=["value"],lo={class:"label-item"},co=et(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A\uFF08\u5206\u533A\u5927\u5C0F\u987B\u5927\u4E8E2G\uFF0C\u5C06\u6B64\u5206\u533A\u4F5C\u4E3A\u5916\u90E8 overlay \u4F7F\u7528\uFF09")],-1)),ro={class:"label-item_value"},_o=et(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u5206\u533A",-1)),po=["value","disabled"],vo={class:"sandbox_tips"},ho=et(()=>t("span",null,"\u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E",-1)),Fo={class:"sandbox_info timeout"},mo=et(()=>t("p",{class:"sandbox_roboot_tips"},[Z(" \u7B49\u5F85\u8BBE\u5907\u91CD\u542F\uFF0C\u91CD\u542F\u5B8C\u6210\u540E"),t("span",{class:"sandbox_roboot_refresh"},"\u8BF7\u5237\u65B0\u754C\u9762")],-1)),fo={key:0,class:"actioner-dns_footer"},Eo=["disabled"],Co={key:1,class:"actioner-tips"},go=et(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u6E29\u99A8\u63D0\u793A")],-1)),$o=et(()=>t("div",{class:"actioner-tips_body"},[t("p",{class:"sandbox_info"}," \u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E\uFF0C\u5E76\u683C\u5F0F\u5316\u6210EXT4\uFF0C\u968F\u540E\u81EA\u52A8\u91CD\u542F\u8FDB\u5165\u6C99\u7BB1\u6A21\u5F0F\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F ")],-1)),bo={key:2,class:"actioner-tips"},yo=et(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u9519\u8BEF")],-1)),Do={class:"actioner-tips_body"},ko={class:"sandbox_info"},Bo=V({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0);g("disk");const a=g(""),l=g(3),p=g(""),m=g([]),r=g(""),n=g(null);(()=>{P.Nas.SandboxDisks.GET().then(h=>{var k;if(h!=null&&h.data&&(k=h.data)!=null&&k.result){n.value=h.data.result;return}throw"\u52A0\u8F7D\u78C1\u76D8\u4FE1\u606F\u5931\u8D25"}).catch(h=>{a.value=h,s.value=3})})();const _=()=>request.System.Reboot.POST({name:p.value,path:r.value}).then(h=>{var k;if(!(h!=null&&h.data&&(((k=h==null?void 0:h.data)==null?void 0:k.success)||0)==0))throw"\u672A\u77E5\u9519\u8BEF"}),f=h=>{var k,w;r.value="",m.value=p.value&&((w=(k=n.value)==null?void 0:k.disks.find(y=>y.path==p.value))==null?void 0:w.childrens)||[]},b=()=>{l.value>0&&(l.value-=1,window.setTimeout(b,1e3))},D=h=>{h.preventDefault(),u.Close&&u.Close()},v=()=>{new Promise((h,k)=>{const w="/luci-static/resources/icons/loading.gif",y=()=>{window.setTimeout(C,2e3)},C=()=>{const B=new Image;B.onload=h,B.onerror=y,B.src=w};window.setTimeout(C,1e4)}).then(()=>{window.setTimeout(()=>{location.reload()},2e3)})},c=h=>{const k=A.Loading("\u914D\u7F6E\u6C99\u7BB1\u91CD\u542F\u4E2D...");request.Nas.Sandbox.POST({path:r.value}).then(w=>{var y;if(w!=null&&w.data){if((w.data.success||0)==0)return s.value=2,window.setTimeout(b,1e3),_();if((y=w.data)!=null&&y.error)throw w.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).then(v).catch(w=>A.Warning(w)).finally(()=>k.Close())},E=()=>{s.value=0};return(h,k)=>{const w=jt("icon-loading");return o(),O(ot,{Close:e.Close,type:1},{default:T(()=>[s.value==0||s.value==2?(o(),d("div",Xn,[Qn,t("div",Yn,[Kn,s.value==0?(o(),d(N,{key:0},[n.value?$("",!0):(o(),d("div",Jn,[x(w,{size:38,color:"currentColor"}),to])),n.value&&n.value.disks.length==0?(o(),d("div",eo,[x(dt),uo])):$("",!0),n.value&&n.value.disks.length>0?(o(),d(N,{key:2},[t("div",so,[no,t("div",oo,[L(t("select",{name:"",id:"",onChange:f,"onUpdate:modelValue":k[0]||(k[0]=y=>p.value=y)},[ao,(o(!0),d(N,null,K(n.value.disks,(y,C)=>(o(),d("option",{value:y.path,key:C},F(y.venderModel)+"\uFF08"+F(y.size)+"\uFF09 ",9,io))),128))],544),[[Et,p.value]])])]),t("div",lo,[co,t("div",ro,[L(t("select",{name:"",id:"","onUpdate:modelValue":k[1]||(k[1]=y=>r.value=y)},[_o,(o(!0),d(N,null,K(m.value,(y,C)=>(o(),d("option",{value:y.path,key:C,disabled:y.sizeInt<(1<<30)*1||y.isSystemRoot},F(y.name)+"\uFF08"+F(y.filesystem||"\u672A\u683C\u5F0F\u5316")+"\uFF09"+F(y.total),9,po))),128))],512),[[Et,r.value]])])]),t("div",vo,[x(dt),ho])],64)):$("",!0)],64)):$("",!0),s.value==2?(o(),d(N,{key:1},[t("p",Fo,[Z(" \u5373\u5C06\u91CD\u542F\u8BBE\u5907 "),t("span",null,"\uFF08"+F(l.value)+"s\uFF09",1)]),mo],64)):$("",!0)]),s.value==0?(o(),d("div",fo,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:!r.value,onClick:k[2]||(k[2]=y=>s.value=1)}," \u5F00\u542F\u6C99\u7BB1 ",8,Eo),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:D}," \u53D6\u6D88 ")])):$("",!0)])):$("",!0),s.value==1?(o(),d("div",Co,[go,$o,t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:c}," \u7EE7\u7EED "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:E}," \u53D6\u6D88 ")])])):$("",!0),s.value==3?(o(),d("div",bo,[yo,t("div",Do,[t("p",ko,F(a.value),1)]),t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:E}," \u53D6\u6D88 ")])])):$("",!0)]),_:1},8,["Close"])}}});var wo=S(Bo,[["__scopeId","data-v-5141058a"]]);const Ao=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=nt(wo,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}},xo={},So={width:"82px",height:"82px",viewBox:"0 0 82 82",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Io=Xt('<title>icon_finished</title><g id="icon_finished" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="circle" transform="translate(2.000000, 2.000000)"><circle id="Oval" stroke="#553AFE" stroke-width="4" cx="39" cy="39" r="39"></circle><circle id="Oval" fill="#553AFE" cx="39.028463" cy="39.028463" r="35.028463"></circle><path d="M41.0148619,52.8014169 C39.924327,53.7754409 39.8138203,55.4674462 40.7680384,56.5806164 C41.7222564,57.6937867 43.3798562,57.8065871 44.4703911,56.8325631 L54.9654709,47.4587599 C56.1301083,46.4185505 56.1643255,44.5807064 55.0392485,43.4960788 L31.4253189,20.7311283 C30.3718273,19.7155123 28.7112257,19.7639428 27.7162614,20.8393009 C26.7212971,21.914659 26.7687429,23.6097284 27.8222345,24.6253444 L49.3379698,45.3675358 L41.0148619,52.8014169 Z" id="Shape" fill="#FFFFFF" fill-rule="nonzero" transform="translate(41.430740, 38.747628) rotate(-270.000000) translate(-41.430740, -38.747628) "></path></g></g>',2),Po=[Io];function Vo(e,u){return o(),d("svg",So,Po)}var Yt=S(xo,[["render",Vo]]);const wt=e=>(q("data-v-5cf1870c"),e=e(),U(),e),To=["onSubmit"],Mo=wt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),Lo={class:"actioner-dns_body"},Oo={class:"label-item"},zo=wt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5F53\u524D\u8F6F\u4EF6\u6E90")],-1)),No={class:"label-item_value"},qo={class:"item_info"},Uo={class:"label-item"},Ho=wt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5207\u6362\u8F6F\u4EF6\u6E90")],-1)),Ro={class:"label-item_value"},Go=wt(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u8F6F\u4EF6\u6E90",-1)),Wo=["value"],Zo={class:"actioner-dns_footer"},jo=["disabled"],Xo={key:1,class:"actioner-dns"},Qo=wt(()=>t("div",{class:"actioner-dns_header"},[t("span",{class:"softsource_tit"},"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),Yo={class:"actioner-dns_body"},Ko={class:"finished"},Jo=wt(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),ta=V({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),a=g(""),l=g(),p=g();(()=>{P.Guide.SoftSourceList.GET().then(_=>{var f,b;if((f=_==null?void 0:_.data)!=null&&f.result){const D=(b=_==null?void 0:_.data)==null?void 0:b.result;p.value=D}}).then(()=>P.Guide.GetSoftSource.GET()).then(_=>{var f,b;if((f=_==null?void 0:_.data)!=null&&f.result){const D=_.data.result;l.value=D.softSource,(b=p.value)!=null&&b.softSourceList.find(v=>v.identity==D.softSource.identity)&&(a.value=D.softSource.identity)}})})();const r=_=>{_.preventDefault(),u.Close&&u.Close()},n=_=>{const f=A.Loading("\u6B63\u5728\u5207\u6362\u4E2D...");request.Guide.SoftSource.POST({softSourceIdentity:a.value}).then(b=>{if(b!=null&&b.data){if((b.data.success||0)==0){s.value=1;return}else if(b.data.error)throw b.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(b=>{A.Error(b)}).finally(()=>f.Close())},i=_=>{_.preventDefault(),location.reload()};return(_,f)=>(o(),O(ot,{Close:e.Close,type:1},{default:T(()=>{var b,D;return[s.value==0?(o(),d("form",{key:0,class:"actioner-dns",onSubmit:lt(n,["prevent"])},[Mo,t("div",Lo,[t("div",Oo,[zo,t("div",No,[t("p",qo,F((b=l.value)==null?void 0:b.name),1)])]),t("div",Uo,[Ho,t("div",Ro,[L(t("select",{name:"",id:"","onUpdate:modelValue":f[0]||(f[0]=v=>a.value=v)},[Go,(o(!0),d(N,null,K((D=p.value)==null?void 0:D.softSourceList,(v,c)=>(o(),d("option",{value:v.identity,key:c},F(v.name),9,Wo))),128))],512),[[Et,a.value,void 0,{trim:!0}]])])])]),t("div",Zo,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:a.value==""}," \u786E\u8BA4 ",8,jo),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:r}," \u53D6\u6D88 ")])],40,To)):$("",!0),s.value==1?(o(),d("form",Xo,[Qo,t("div",Yo,[t("div",Ko,[x(Yt)]),Jo,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply softsource_successed",onClick:i}," \u786E\u5B9A ")])])])):$("",!0)]}),_:1},8,["Close"]))}});var ea=S(ta,[["__scopeId","data-v-5cf1870c"]]);const Ce=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=nt(ea,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const ua={class:"utilities"},sa=V({__name:"index",setup(e){const u=g(!1),s=g(),a=()=>{window.location.href="/cgi-bin/luci/admin/system/ota"},l=()=>{s.value.status=="unsupport"&&alert("\u8BE5\u56FA\u4EF6\u4E0D\u652F\u6301\u6C99\u7BB1\u6A21\u5F0F"),s.value.status=="stopped"&&Ao()},p=()=>M(this,null,function*(){try{if((yield P.Quickstart.Guide.GlobalFolders.GET()).status!==200)return}catch(i){console.log(i);return}u.value=!0;try{const i=yield P.Storage.Get.POST({key:"nas_guide_init"});if(i.data){const{success:_,error:f,result:b}=i.data;if(b&&b.key=="nas_guide_init")return}}catch(i){return}m()}),m=()=>{if(!u.value){A.Warning("\u8BF7\u5148\u66F4\u65B0\u7CFB\u7EDF\u5230\u6700\u65B0\u7248\u672C");return}we.OpenGuideWindow()},r=()=>{var i,_,f,b;window.open(`${(_=(i=window.quickstart_configs)==null?void 0:i.ttyd)!=null&&_.ssl?"https":"http"}://${window.location.hostname}:${((b=(f=window.quickstart_configs)==null?void 0:f.ttyd)==null?void 0:b.port)||7681}/`,"_blank")};return(()=>{P.Nas.GetSandbox.GET().then(i=>{var _;console.log("getSandBox",i),(_=i==null?void 0:i.data)!=null&&_.result&&(s.value=i.data.result)}).catch(i=>A.Warning(i))})(),p(),(i,_)=>(o(),O(ft,{title:i.$t("\u5E38\u7528\u5DE5\u5177")},{default:T(()=>{var f;return[t("div",ua,[t("div",{onClick:r},[t("span",null,"\u300B"+F(i.$t("\u7EC8\u7AEF")),1)]),t("div",{onClick:a},[t("span",null,F(i.$t("\u56FA\u4EF6\u66F4\u65B0")),1)]),t("div",{onClick:_[0]||(_[0]=(...b)=>R(fe)&&R(fe)(...b))},[t("span",null,F(i.$t("\u5185\u7F51\u914D\u7F6E")),1)]),t("div",{onClick:_[1]||(_[1]=(...b)=>R(Ee)&&R(Ee)(...b))},[t("span",null,F(i.$t("DNS\u914D\u7F6E")),1)]),t("div",{onClick:_[2]||(_[2]=(...b)=>R(Ce)&&R(Ce)(...b))},[t("span",null,F(i.$t("\u8F6F\u4EF6\u6E90\u914D\u7F6E")),1)]),t("div",{onClick:l},[t("span",null,F(((f=s.value)==null?void 0:f.status)=="running"?i.$t("\u6C99\u7BB1\u5DF2\u5F00\u542F"):i.$t("\u5F00\u542F\u6C99\u7BB1")),1)])])]}),_:1},8,["title"]))}});var na=S(sa,[["__scopeId","data-v-47b0529a"]]),oa="/luci-static/istorex/network.svg?v=3025665f",aa="/luci-static/istorex/device.svg?v=9068551e";const ia={},la={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},ca=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.375 12C3.375 12.4973 3.57254 12.9742 3.92417 13.3258C4.27581 13.6775 4.75272 13.875 5.25 13.875C5.74728 13.875 6.22419 13.6775 6.57583 13.3258C6.92746 12.9742 7.125 12.4973 7.125 12C7.125 11.5027 6.92746 11.0258 6.57583 10.6742C6.22419 10.3225 5.74728 10.125 5.25 10.125C4.75272 10.125 4.27581 10.3225 3.92417 10.6742C3.57254 11.0258 3.375 11.5027 3.375 12ZM10.125 12C10.125 12.4973 10.3225 12.9742 10.6742 13.3258C11.0258 13.6775 11.5027 13.875 12 13.875C12.4973 13.875 12.9742 13.6775 13.3258 13.3258C13.6775 12.9742 13.875 12.4973 13.875 12C13.875 11.5027 13.6775 11.0258 13.3258 10.6742C12.9742 10.3225 12.4973 10.125 12 10.125C11.5027 10.125 11.0258 10.3225 10.6742 10.6742C10.3225 11.0258 10.125 11.5027 10.125 12ZM17.4242 13.3258C17.0725 12.9742 16.875 12.4973 16.875 12C16.875 11.5027 17.0725 11.0258 17.4242 10.6742C17.7758 10.3225 18.2527 10.125 18.75 10.125C19.2473 10.125 19.7242 10.3225 20.0758 10.6742C20.4275 11.0258 20.625 11.5027 20.625 12C20.625 12.4973 20.4275 12.9742 20.0758 13.3258C19.7242 13.6775 19.2473 13.875 18.75 13.875C18.2527 13.875 17.7758 13.6775 17.4242 13.3258Z",fill:"black","fill-opacity":"0.8"},null,-1),da=[ca];function ra(e,u){return o(),d("svg",la,da)}var _a=S(ia,[["render",ra]]);const pa=e=>(q("data-v-21e54302"),e=e(),U(),e),va={key:0,class:"title"},ha=["href"],Fa=pa(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[t("path",{d:"M7 14C3.1338 14 0 10.8662 0 7C0 3.1338 3.1338 0 7 0C10.8662 0 14 3.1338 14 7C14 10.8662 10.8662 14 7 14ZM7 10.9375C7.25944 10.9375 7.46988 10.8535 7.63175 10.6859C7.79362 10.5179 7.875 10.3101 7.875 10.0625C7.875 9.81487 7.79407 9.61099 7.63175 9.45131C7.46987 9.29119 7.25944 9.20368 7 9.1875C6.65962 9.20369 6.4085 9.3555 6.24663 9.64292C6.08475 9.93081 6.08475 10.2182 6.24663 10.5061C6.4085 10.7936 6.65962 10.9375 7 10.9375ZM7.67025 8.07931C7.67025 8.02901 7.65275 7.88463 7.65493 7.90519C7.637 7.72319 7.66107 7.56131 7.76081 7.40513C7.83344 7.29094 7.94588 7.18375 8.11388 7.08444C9.10175 6.50081 9.46312 5.85068 9.44256 5.17431C9.41195 4.16106 8.66556 3.16663 7.04682 3.15218C5.69361 3.1395 4.80418 3.79312 4.59376 5.02031C4.56892 5.18979 4.61132 5.36226 4.71192 5.50089C4.81251 5.63952 4.96332 5.73333 5.13214 5.76229C5.30096 5.79124 5.47441 5.75305 5.61545 5.65586C5.75649 5.55867 5.85394 5.41019 5.88699 5.24212C5.98282 4.6865 6.29388 4.4577 7.03456 4.46425C7.84699 4.47169 8.11956 4.83481 8.13094 5.21325C8.13376 5.27833 8.11633 5.34268 8.08106 5.39744C7.9905 5.56018 7.79405 5.7492 7.44669 5.95438C7.10324 6.15694 6.83899 6.40894 6.6535 6.70032C6.36518 7.15313 6.3022 7.60113 6.35119 8.05656C6.35862 8.12525 6.35776 8.1165 6.35776 8.07932C6.35734 8.16577 6.374 8.25145 6.4068 8.33143C6.43959 8.41142 6.48786 8.48414 6.54884 8.54542C6.60982 8.60669 6.6823 8.65532 6.76213 8.68849C6.84196 8.72167 6.92756 8.73875 7.014 8.73875C7.10045 8.73875 7.18605 8.72167 7.26587 8.68849C7.3457 8.65532 7.41819 8.60669 7.47917 8.54542C7.54015 8.48414 7.58842 8.41142 7.62121 8.33143C7.654 8.25145 7.67067 8.16575 7.67025 8.07931Z",fill:"#E1B8B2"})],-1)),ma=[Fa],fa={class:"toolbar"},Ea={key:1,class:"more-icon"},Ca={class:"actions"},ga=["onClick"],$a=V({__name:"index",props:{span:{},height:{},title:{},padding:{},helpLink:{},moreActions:{},action:{}},setup(e){const u=e,s=g(!1),a=()=>{s.value=!s.value},l=mt({width:`calc(${u.span*100/24}% - 10px)`,height:u.height+"px"});return(p,m)=>{var r,n,i;return o(),d("div",{class:"card",style:tt(l)},[t("div",null,[u.title?(o(),d("div",va,[t("span",null,F(u.title),1),u.helpLink?(o(),d("a",{key:0,href:u.helpLink,target:"_blank"},ma,8,ha)):$("",!0),t("div",fa,[u.action&&u.action.show!==!1?(o(),d("div",{key:0,class:"action",onClick:m[0]||(m[0]=(..._)=>{var f,b;return((f=u.action)==null?void 0:f.onClick)&&((b=u.action)==null?void 0:b.onClick(..._))})},F((r=u.action)==null?void 0:r.text),1)):$("",!0),(i=(n=u.moreActions)==null?void 0:n.filter(({show:_})=>_!==!1))!=null&&i.length?(o(),d("span",Ea,[x(_a,{onClick:a})])):$("",!0),L(t("div",Ca,[t("div",{class:"menu_background",onClick:a}),t("ul",null,[(o(!0),d(N,null,K(u.moreActions,_=>(o(),d("li",{onClick:_.onClick},F(_.text),9,ga))),256))])],512),[[ke,s.value]])])])):$("",!0),t("div",{class:"card-body",style:tt(`padding:${u.padding}`)},[bt(p.$slots,"default",{},void 0,!0)],4)])],4)}}});var j=S($a,[["__scopeId","data-v-21e54302"]]);const ba={class:"flow"},ya={class:"flow-data"},Da={key:0},ka={key:1},Ba=V({__name:"flow-chart",setup(e){su([nu,ou,au,iu,lu,cu]);const u=g(),s=D=>{var c;const v=(c=u.value)==null?void 0:c[D];return!v||v.startTime==0?"":n(v.startTime*1e3)+"-"+n(v.endTime*1e3)},a=G(()=>{var v;let D=[];return(v=u.value)==null||v.forEach(c=>{D.push({value:c.uploadSpeed})}),D}),l=G(()=>{var v;let D=[];return(v=u.value)==null||v.forEach(c=>{D.push({value:c.downloadSpeed})}),D}),p=G(()=>{var v;let D="";if(u.value){let c=((v=u.value)==null?void 0:v.length)||0;if(c>0){let E=u.value[c-1];D=i(E.uploadSpeed)+"/s"}}return D}),m=G(()=>{var v;let D="";if(u.value){let c=((v=u.value)==null?void 0:v.length)||0;if(c>0){let E=u.value[c-1];D=i(E.downloadSpeed)+"/s"}}return D});G(()=>{var v;let D=[];return(v=u.value)==null||v.forEach(c=>{D.push({value:c.downloadSpeed+c.uploadSpeed})}),D});const r=()=>M(this,null,function*(){var D;try{const v=yield P.Network.Statistics.GET();if(v.data&&(D=v.data.result)!=null&&D.items){const c=v.data.result.slots||10;if(v.data.result.items.length<c){let E=v.data.result.items;for(;E.length<c;)E=[{downloadSpeed:0,endTime:0,startTime:0,uploadSpeed:0}].concat(E);u.value=E}else v.data.result.items.length>c?u.value=v.data.result.items.slice(c-v.data.result.items.length):u.value=v.data.result.items}}catch(v){console.log(v)}}),n=Nt.dateForm,i=Nt.byteToSize,_=g();let f=null;const b=D=>(f=du(D,"dark"),f.setOption({animation:!1,backgroundColor:"transparent",color:["transparent","transparent"],tooltip:{trigger:"axis",formatter:v=>{if(Array.isArray(v)){let c="";v.length>0&&(c=s(v[0].axisValue));for(let E=0;E<v.length;E++)c=`${c}<br>${v[E].seriesName}: ${i(v[E].value)}/s`;return c.toString()}else{const c=v;return`${s(c.axisValue)}<br>${c.seriesName}: ${i(c.value)}/s`}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{lineStyle:{color:["#999"]},show:!1},name:"",show:!1,nameGap:0,nameTextStyle:{height:0,lineHeight:0,padding:0}},yAxis:{type:"value",name:"",minInterval:1e4,interval:1e3,axisLabel:{formatter:function(v,c){return`${i(v)}/s`},color:"#fff",show:!1},nameTextStyle:{color:"#fff"},splitLine:{lineStyle:{color:["#999"]},show:!1}},series:[{name:"\u4E0B\u8F7D",data:l.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(32, 199, 247, 1)"},{offset:1,color:"rgba(32, 199, 247, 0.1)"}],global:!1}}},{name:"\u4E0A\u4F20",data:a.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(85, 58, 254, 1)"},{offset:1,color:"rgba(85, 58, 254, 0.1)"}],global:!1}}}],grid:{left:"0%",right:"0%",bottom:"0%",top:"0w",containLabel:!0}}),f);return st(()=>{setTimeout(()=>M(this,null,function*(){if(_.value){yield r();const D=b(_.value),v=_.value;D.resize({width:v.clientWidth,height:v.clientHeight}),window.addEventListener("resize",()=>{D.resize({width:v.clientWidth,height:v.clientHeight})});const c=()=>M(this,null,function*(){f!=null&&(yield r(),f!=null&&(D.setOption({series:[{name:"\u4E0B\u8F7D",data:l.value,type:"line",areaStyle:{},smooth:!0},{name:"\u4E0A\u4F20",data:a.value,type:"line",areaStyle:{},smooth:!0}]}),setTimeout(c,5e3)))});setTimeout(c,5e3)}}),900)}),Bt(()=>{f!=null&&(f.dispose(),f=null)}),(D,v)=>(o(),d("div",ba,[t("div",{ref_key:"el",ref:_,class:"echart"},null,512),t("div",ya,[p.value?(o(),d("span",Da,F(D.$t("\u4E0A\u4F20"))+": "+F(p.value),1)):$("",!0),m.value?(o(),d("span",ka,F(D.$t("\u4E0B\u8F7D"))+": "+F(m.value),1)):$("",!0)])]))}});var wa=S(Ba,[["__scopeId","data-v-475e377c"]]);const Pe=e=>(q("data-v-39628bee"),e=e(),U(),e),Aa={class:"width-45 responsive"},xa={class:"width-55 responsive"},Sa={class:"network"},Ia=Pe(()=>t("img",{src:oa,alt:"network"},null,-1)),Pa={class:"device"},Va=Pe(()=>t("img",{src:aa,alt:"device"},null,-1)),Ta={class:"ip-dns"},Ma={class:"title"},La={class:"ip"},Oa={class:"title"},za={class:"dns"},Na=V({__name:"index",setup(e){const u=Nt.stampForm,s=n=>{switch(n){case"pppoe":return ct.global.t("\u62E8\u53F7\u4E0A\u7F51");case"static":return ct.global.t("\u9759\u6001\u7F51\u7EDC");case"dhcp":return"DHCP"}return n&&n.toUpperCase()},a=n=>{switch(n){case"manual":return ct.global.t("\u624B\u52A8\u914D\u7F6E");case"auto":return ct.global.t("\u81EA\u52A8\u83B7\u53D6");default:return""}},l=mt({ipv4addr:"",ipv6addr:"",internetConnected:!1,proto:"",dnsProto:"",dnsList:[],uptimeStamp:0}),p=g({devices:[]}),m=()=>M(this,null,function*(){P.Network.Status.GET().then(n=>{if(n!=null&&n.data){const{result:i}=n==null?void 0:n.data;i&&(l.ipv4addr=i.ipv4addr,l.proto=i.proto,l.dnsProto=i.dnsProto,l.ipv6addr=i.ipv6addr,l.dnsList=i.dnsList,l.uptimeStamp=i.uptimeStamp,window.setInterval(()=>{l.uptimeStamp&&(l.uptimeStamp=l.uptimeStamp+1)},1e3))}})}),r=()=>M(this,null,function*(){P.Network.Device.List.GET().then(n=>{if(n!=null&&n.data){const{result:i}=n==null?void 0:n.data;p.value={devices:(i==null?void 0:i.devices)||[]}}})});return m(),r(),(n,i)=>(o(),O(ft,null,{default:T(()=>[t("div",Aa,[x(j,{title:n.$t("\u6D41\u91CF\u7EDF\u8BA1"),span:24,padding:"0 8px"},{default:T(()=>[x(wa)]),_:1},8,["title"])]),t("div",xa,[x(j,{span:12},{default:T(()=>[t("div",Sa,[Ia,t("div",null,[t("span",null,F(n.$t("\u5DF2\u8FDE\u63A5\u4E92\u8054\u7F51")),1),t("span",null,F(R(u)(l.uptimeStamp)),1)])])]),_:1}),x(j,{span:12},{default:T(()=>{var _;return[t("div",Pa,[Va,t("div",null,[t("span",null,F(n.$t("\u5DF2\u8FDE\u63A5\u8BBE\u5907")),1),t("span",null,F(`${(_=p.value.devices)==null?void 0:_.length}${n.$t("\u53F0")}`),1)])])]}),_:1}),x(j,{span:24},{default:T(()=>[t("div",Ta,[t("span",Ma,F(n.$t("IP\u5730\u5740")),1),t("div",La,[t("span",null,F(`IPv4\uFF1A${l.ipv4addr}\uFF08${s(l.proto||"")}\uFF09`),1),t("span",null,F(`IPv6\uFF1A${l.ipv6addr||"-"}`),1)]),t("span",Oa,F(`DNS\uFF08${a(l.dnsProto||"")}\uFF09`),1),t("div",za,[(o(!0),d(N,null,K(l.dnsList,_=>(o(),d("span",null,F(_),1))),256))])])]),_:1})])]),_:1}))}});var qa=S(Na,[["__scopeId","data-v-39628bee"]]),Ua="/luci-static/istorex/open.svg?v=84274947",Ha="/luci-static/istorex/info.svg?v=7035c5f2";const gt=e=>(q("data-v-bd2acf72"),e=e(),U(),e),Ra=["onSubmit"],Ga=gt(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"},"\u786C\u76D8\u914D\u7F6E")],-1)),Wa={class:"action-body"},Za={class:"disk-info"},ja=gt(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),Xa={key:0,class:"disk-info_mount-name"},Qa={key:1,class:"disk-info_mount-name"},Ya={key:0,class:"label-item"},Ka=gt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),Ja={class:"label-item_path"},ti={class:"label-item"},ei=gt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u683C\u5F0F\u5316\u9009\u9879")],-1)),ui={class:"label-item_value"},si=["disabled"],ni={key:0,value:""},oi=gt(()=>t("option",{value:"format"},"\u683C\u5F0F\u5316",-1)),ai={key:1,value:"default"},ii={class:"label-item_value"},li={key:0,class:"msg"},ci={key:1,class:"msg"},di={class:"action-footer"},ri=gt(()=>t("div",{class:"auto"},null,-1)),_i=["disabled"],pi=["disabled"],vi={key:1,class:"action result"},hi={class:"action-body"},Fi=gt(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),mi=gt(()=>t("div",{class:"action-body_msg"},"\u683C\u5F0F\u5316\u6210\u529F",-1)),fi={key:0,class:"action-body_info"},Ei={key:1,class:"action-body_info"},Ci={class:"btns"},gi=V({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,s=()=>{u.Close&&u.Close()},a=h=>{h.preventDefault(),u.Cancel&&u.Cancel(),s()},l=h=>{u.Next&&u.Next(h),s()},p=g(!1),m=g(0),r=h=>{m.value=h},n=g(u.action=="nas"?"":"format"),i=g(),_=g(),f=()=>{switch(n.value){case"format":D();return;case"default":b();return;default:A.Warning("\u8BF7\u9009\u62E9\u9009\u7EBF");return}},b=()=>{let h="";const k=u.mount;if(k!=null&&k.mountPoint!=null&&(h=k.mountPoint),h!=""){l(h);return}A.Warning("\u65E0\u6CD5\u8BC6\u522B\u8DEF\u5F84")},D=()=>{const h=u.disk,k=u.mount;if(k){const w=k.mountPoint||k.path;if(!confirm(`\u8B66\u544A\uFF1A\u683C\u5F0F\u5316\u4F1A\u6E05\u7A7A ${w} \u5206\u533A\u6570\u636E\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm(`\u662F\u5426\u786E\u5B9A\u683C\u5F0F\u5316 ${w}?`))return;c(k);return}if(h){if(!confirm(`\u8B66\u544A\uFF1A\u8BE5\u64CD\u4F5C\u5C06\u521D\u59CB\u5316 ${h.venderModel} \u786C\u76D8\u5E76\u521B\u5EFA\u5206\u533A\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm("\u662F\u5426\u786E\u5B9A\u521D\u59CB\u5316?"))return;v(h);return}A.Warning("\u65E0\u6CD5\u8BC6\u522B\u6570\u636E")},v=h=>M(this,null,function*(){if(h.name==null||h.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u540D\u79F0");return}if(h.path==null||h.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u8DEF\u5F84");return}p.value=!0;const k=A.Loading("\u521D\u59CB\u5316\u4E2D...");try{const w=yield P.Nas.Disk.Init.POST({name:h.name,path:h.path});if(w!=null&&w.data){const{result:y,error:C}=w==null?void 0:w.data;C&&A.Warning(C),y&&(y.errorInfo?A.Warning(y.errorInfo):(A.Success("\u521D\u59CB\u5316\u6210\u529F"),y.childrens&&y.childrens.length>0&&(_.value=y.childrens[0]),i.value=y,r(1)))}}catch(w){A.Error(w)}k.Close(),p.value=!1}),c=h=>M(this,null,function*(){if(h.path==null||h.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}p.value=!0;const k=A.Loading("\u683C\u5F0F\u5316\u4E2D...");try{const w=yield P.Nas.Disk.Partition.Format.POST({path:h.path,uuid:h.uuid,mountPoint:h.mountPoint});if(w!=null&&w.data){const{result:y,error:C}=w==null?void 0:w.data;C&&A.Warning(C),y&&(A.Success("\u683C\u5F0F\u5316\u6210\u529F"),_.value=y,r(1))}}catch(w){A.Error(w)}k.Close(),p.value=!1}),E=()=>{if(_.value&&_.value.mountPoint){l(_.value.mountPoint);return}A.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")};return(h,k)=>(o(),O(ot,{type:1},{default:T(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>{var w;return[m.value==0?(o(),d("form",{key:0,class:"action format",onSubmit:lt(f,["prevent"])},[Ga,t("div",Wa,[t("div",Za,[ja,e.mount?(o(),d("div",Xa,[t("span",null,"\u3010"+F(e.mount.total)+"\u3011",1),t("span",null,F(e.mount.mountPoint||e.mount.path),1)])):e.disk?(o(),d("div",Qa,[t("span",null,"\u3010"+F(e.disk.size)+"\u3011",1),t("span",null,F(e.disk.venderModel),1)])):$("",!0)]),e.mount?(o(),d("div",Ya,[Ka,t("div",Ja,F(e.mount.mountPoint||e.mount.path)+"\uFF08"+F(e.mount.total)+"\uFF09 ",1)])):$("",!0),t("div",ti,[ei,t("div",ui,[L(t("select",{"onUpdate:modelValue":k[0]||(k[0]=y=>n.value=y),required:"",disabled:e.action=="disk"},[e.mount!=null?(o(),d("option",ni,"\u8BF7\u9009\u62E9\u9009\u9879")):$("",!0),oi,e.mount!=null?(o(),d("option",ai," \u4E0D\u683C\u5F0F\u5316,\u4F7F\u7528\u539F\u6587\u4EF6\u7CFB\u7EDF ")):$("",!0)],8,si),[[Et,n.value]])]),t("div",ii,[n.value=="format"?(o(),d("p",li," \u683C\u5F0F\u5316\u4E3AEXT4\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F20\u8F93\u901F\u5EA6\u66F4\u5FEB ")):n.value=="default"?(o(),d("p",ci)):$("",!0)])])]),t("div",di,[ri,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:a,type:"button",disabled:p.value}," \u8FD4\u56DE ",8,_i),t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:p.value}," \u4E0B\u4E00\u6B65 ",8,pi)])],40,Ra)):m.value==1?(o(),d("div",vi,[t("div",hi,[Fi,mi,i.value?(o(),d("div",fi,[Z(" \u5DF2\u7ECF\u6210\u529F\u683C\u5F0F\u5316\u78C1\u76D8 "+F(i.value.venderModel)+" \u5E76\u6302\u8F7D\u5230 ",1),t("a",null,F((w=_.value)==null?void 0:w.mountPoint),1)])):$("",!0),_.value?(o(),d("div",Ei,[Z(" \u5DF2\u7ECF\u6210\u529F\u521D\u59CB\u5316\u5206\u533A "),t("a",null,F(_.value.mountPoint),1)])):$("",!0),t("div",Ci,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:E},F(e.action=="nas"?"\u4E0B\u4E00\u6B65":"\u5B8C\u6210"),1)])])])):$("",!0)]}),_:1})]),_:1}))}});var $i=S(gi,[["__scopeId","data-v-bd2acf72"]]),Ve=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=nt($i,ht(vt({},e),{Close:()=>{a()}}));s.mount(u);const a=()=>{s.unmount(),u.remove()};return{Close:a}};const Dt=e=>(q("data-v-3a7479d2"),e=e(),U(),e),bi=["onSubmit"],yi=Dt(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"})],-1)),Di={class:"action-body"},ki={class:"disk-info"},Bi=Dt(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),wi={key:0,class:"disk-info_mount-name"},Ai={key:1,class:"disk-info_mount-name"},xi={key:0,class:"label-item"},Si=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),Ii={class:"label-item_path"},Pi={class:"label-item"},Vi=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u6302\u8F7D\u70B9")],-1)),Ti={class:"label-item_value"},Mi={class:"action-footer"},Li=Dt(()=>t("div",{class:"auto"},null,-1)),Oi=["disabled"],zi=["disabled"],Ni={key:1,class:"action result"},qi={class:"action-body"},Ui=Dt(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),Hi=Dt(()=>t("div",{class:"action-body_msg"},"\u6302\u8F7D\u6210\u529F",-1)),Ri={key:0,class:"action-body_info"},Gi={class:"btns"},Wi=V({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){var D;const u=e,s=()=>{u.Close&&u.Close()},a=v=>{v.preventDefault(),u.Cancel&&u.Cancel(),s()},l=v=>{u.Next&&u.Next(v),s()},p=g(!1),m=g(0),r=g("/mnt/data_"+((D=u==null?void 0:u.mount)==null?void 0:D.name)),n=v=>{m.value=v};g(u.mount?"":"format"),g();const i=g(),_=()=>M(this,null,function*(){const v=u.mount;if(v==null){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A");return}if(v.path==null||v.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}if(v.uuid==null||v.uuid==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533AID");return}p.value=!0;const c=A.Loading("\u6302\u8F7D\u4E2D...");try{const E=yield P.Nas.Disk.Partition.Mount.POST({path:v.path,uuid:v.uuid,mountPoint:r.value});if(E!=null&&E.data){const{result:h,error:k}=E==null?void 0:E.data;k&&A.Warning(k),h&&(A.Success("\u6302\u8F7D\u6210\u529F"),i.value=h,n(1))}}catch(E){A.Error(E)}c.Close(),p.value=!1}),f=()=>{if(i.value&&i.value.mountPoint){l(i.value.mountPoint);return}A.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")},b=()=>{};return(v,c)=>(o(),O(ot,{type:1},{default:T(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>{var E,h;return[m.value==0?(o(),d("form",{key:0,class:"action format",onSubmit:lt(b,["prevent"])},[yi,t("div",Di,[t("div",ki,[Bi,e.mount?(o(),d("div",wi,[t("span",null,"\u3010"+F(e.mount.total)+"\u3011",1),t("span",null,F(e.mount.mountPoint),1)])):e.disk?(o(),d("div",Ai,[t("span",null,"\u3010"+F(e.disk.size)+"\u3011",1),t("span",null,F(e.disk.venderModel),1)])):$("",!0)]),e.mount?(o(),d("div",xi,[Si,t("div",Ii,F(e.mount.path)+"\uFF08"+F(e.mount.total)+"\uFF0C"+F((h=(E=e.mount)==null?void 0:E.filesystem)==null?void 0:h.toUpperCase())+"\uFF09 ",1)])):$("",!0),t("div",Pi,[Vi,t("div",Ti,[L(t("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=k=>r.value=k)},null,512),[[Y,r.value,void 0,{trim:!0}]])])])]),t("div",Mi,[Li,t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:p.value,onClick:_}," \u786E\u5B9A ",8,Oi),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:a,type:"button",disabled:p.value}," \u8FD4\u56DE ",8,zi)])],40,bi)):m.value==1?(o(),d("div",Ni,[t("div",qi,[Ui,Hi,i.value?(o(),d("div",Ri,[Z(" \u5DF2\u6210\u529F\u5C06\u5206\u533A "+F(i.value.path)+" \u6302\u8F7D\u5230 ",1),t("a",null,F(i.value.mountPoint),1)])):$("",!0),t("div",Gi,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:f},F(e.action=="nas"?"\u5B8C\u6210":"\u4E0B\u4E00\u6B65"),1)])])])):$("",!0)]}),_:1})]),_:1}))}});var Zi=S(Wi,[["__scopeId","data-v-3a7479d2"]]),Te=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=nt(Zi,ht(vt({},e),{Close:()=>{a()}}));s.mount(u);const a=()=>{s.unmount(),u.remove()};return{Close:a}};const ji={class:"progress"},Xi=V({__name:"index",props:{value:{type:Number,required:!0},text:{type:String}},setup(e){const u=e,s=G(()=>u.value>=80?"#e45e5e":u.value>=70?"#ff9800":u.value>=60?"#297ff3":u.value>0?"#53c31b":"");return(a,l)=>(o(),d("div",ji,[t("div",{class:Qt(["progress-value",`${e.value>50}`]),style:tt({width:`${e.value}%`,backgroundColor:s.value})},[t("span",null,F(e.text),1)],6),bt(a.$slots,"default",{},void 0,!0)]))}});var Qi=S(Xi,[["__scopeId","data-v-733828e1"]]);const Me=e=>(q("data-v-4b3c5909"),e=e(),U(),e),Yi={class:"disk-content"},Ki={class:"disk-item"},Ji={class:"disk-item_name"},tl={key:0},el={key:1},ul={key:2},sl={class:"disk_value"},nl={key:0,class:"disk-item_value"},ol={class:"value-data"},al={key:1,class:"disk-item_value"},il={key:0,class:"disk-item"},ll={class:"disk-item_name"},cl=["href"],dl={class:"disk_status"},rl={class:"disk_status_item"},_l={key:0,class:"tooltip-trigger disk_tip"},pl=Me(()=>t("div",{class:"tooltip-text tooltip-top"},[t("div",{class:"disk_dir_tip"}," \u5F53\u524D\u78C1\u76D8\u4E3A\u53EA\u8BFB\u72B6\u6001\uFF0C\u53EF\u80FD\u5BFC\u81F4\u65E0\u6CD5\u5199\u5165\u6570\u636E ")],-1)),vl={class:"disk_status_item"},hl={key:0,class:"tooltip-trigger disk_tip"},Fl=Me(()=>t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5F53\u524D\u78C1\u76D8\u786C\u76D8\u683C\u5F0F\u4E3ANTFS\uFF0C\u53EF\u80FD\u5BFC\u81F4\u786C\u76D8\u51FA\u73B0\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u5EFA\u8BAE\u683C\u5F0F\u5316\u6210EXT4\u6587\u4EF6\u7CFB\u7EDF")],-1)),ml=V({__name:"item",props:{part:{type:Object,required:!0},disk:{type:Object,required:!0}},setup(e){const u=e,s=G(()=>u.part.filesystem=="No FileSystem"),a=G(()=>s.value||!u.part.isSystemRoot&&u.part.mountPoint&&(u.part.isReadOnly||u.part.filesystem=="ntfs")),l=function(){Ve({action:"disk",disk:u.disk,mount:u.part,Cancel:()=>{},Next:i=>{location.reload()}})},p=()=>{Te({action:"nas",disk:u.disk,mount:u.part,Cancel:()=>{},Next:()=>{location.reload()}})},m=()=>M(this,null,function*(){const i=A.Loading("\u5904\u7406\u4E2D...");try{const _=yield P.Nas.Disk.InitRest.POST({name:u.disk.name,path:u.disk.path});if(_!=null&&_.data){const{result:f,error:b}=_==null?void 0:_.data;b&&A.Warning(b),f&&(A.Success("\u6302\u8F7D\u6210\u529F"),location.reload())}}catch(_){A.Error(_)}i.Close()}),r=G(()=>u.part.filesystem=="Free Space"),n=G(()=>{const i=u.part.mountPoint?u.part.mountPoint:"";return i.indexOf("/mnt/")==0?"/cgi-bin/luci/admin/services/linkease/file/?path=/"+i.substring(5):"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+i});return(i,_)=>{var b;const f=jt("progress-item");return o(),d("div",Yi,[t("li",Ki,[t("div",Ji,[r.value?(o(),d("span",tl,"\u672A\u5206\u533A")):(o(),d("span",el,F(e.part.name)+F(e.part.mountPoint?"":s.value?"\uFF08\u672A\u683C\u5F0F\u5316\uFF09":"\uFF08\u672A\u6302\u8F7D\uFF09"),1)),e.part.isSystemRoot?(o(),d("span",ul,"\uFF08\u7CFB\u7EDF\u5206\u533A\uFF09")):$("",!0)]),t("div",sl,[e.part.mountPoint||r.value?(o(),d("div",nl,[t("div",ol,[x(f,{value:r.value||!e.part.usage?0:e.part.usage,text:r.value?"\u672A\u5206\u533A\uFF08"+e.part.total+"\uFF09":e.part.used+"/"+e.part.total,style:{backgroundColor:"#767676"}},null,8,["value","text"])])])):s.value?$("",!0):(o(),d("div",al,[t("div",{class:"value-data buttondiv",onClick:p},"\u624B\u52A8\u6302\u8F7D")])),r.value?(o(),d("button",{key:2,class:"cbi-button cbi-button-apply",onClick:m}," \u5206\u533A\u5E76\u683C\u5F0F\u5316 ")):a.value?(o(),d("button",{key:3,class:"cbi-button cbi-button-apply",onClick:l}," \u683C\u5F0F\u5316\u5206\u533A ")):$("",!0)])]),e.part.mountPoint?(o(),d("li",il,[t("span",ll,[t("a",{href:n.value,target:"_blank"},F(e.part.mountPoint),9,cl)]),t("div",dl,[t("div",rl,[t("div",null,"\u78C1\u76D8\u8BFB\u5199\u72B6\u6001\uFF1A"+F(e.part.isReadOnly?"\u53EA\u8BFB":"\u8BFB\u5199"),1),!e.part.isSystemRoot&&e.part.isReadOnly?(o(),d("div",_l,[x(dt),pl])):$("",!0)]),t("div",vl,[t("div",null,"\u78C1\u76D8\u683C\u5F0F\uFF1A"+F((b=e.part.filesystem)==null?void 0:b.toUpperCase()),1),e.part.filesystem=="ntfs"?(o(),d("div",hl,[x(dt),Fl])):$("",!0)])])])):$("",!0)])}}});var fl=S(ml,[["__scopeId","data-v-4b3c5909"]]);const Le=e=>(q("data-v-5f29973e"),e=e(),U(),e),El={key:0,class:"action"},Cl={class:"title"},gl=Le(()=>t("div",{class:"app-container_info"},[t("span",null,"\u5206\u533A / \u6302\u8F7D\u70B9"),t("span",null,"\u5BB9\u91CF")],-1)),$l={class:"app-container_body"},bl=Le(()=>t("div",{class:"auto"},null,-1)),yl=V({__name:"index",props:{disk:{type:Object,required:!0},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,s=g(0),a=()=>{u.Close&&u.Close()},l=p=>{p.preventDefault(),u.Cancel&&u.Cancel(),a()};return(p,m)=>(o(),O(ot,{Close:e.Close,type:1},{default:T(()=>[x(Lt,{name:"rotate",mode:"out-in"},{default:T(()=>[s.value==0?(o(),d("div",El,[t("h2",Cl," \u5206\u533A\u4FE1\u606F - "+F((e.disk.name||"?")+(e.disk.isSystemRoot?"\uFF08\u7CFB\u7EDF\u76D8\uFF09":"")),1),t("ul",null,[t("li",null,[gl,t("div",$l,[(o(!0),d(N,null,K(e.disk.childrens,(r,n)=>(o(),O(fl,{key:n,part:r,disk:e.disk},null,8,["part","disk"]))),128))])])]),t("div",{class:"action-footer"},[bl,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:l,type:"button"}," \u8FD4\u56DE ")])])):$("",!0)]),_:1})]),_:1},8,["Close"]))}});var Dl=S(yl,[["__scopeId","data-v-5f29973e"]]),kl=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=nt(Dl,ht(vt({},e),{Close:()=>{a()}}));s.component("progress-item",Qi),s.mount(u);const a=()=>{s.unmount(),u.remove()};return{Close:a}},Bl="/luci-static/istorex/warning.svg?v=69d55c8f";const qt=e=>(q("data-v-e039a994"),e=e(),U(),e),wl={class:"disk"},Al={key:0,class:"title"},xl={class:"not-progress"},Sl={key:0},Il={class:"progress"},Pl={class:"button"},Vl=["src"],Tl=qt(()=>t("span",null,"S.M.A.R.T\u5F02\u5E38",-1)),Ml={key:1},Ll={class:"progress"},Ol={class:"button"},zl={key:0,class:"tooltip-trigger"},Nl={class:"disk_tip"},ql=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u68C0\u6D4B\u5230\u60A8\u7684Docker\u6839\u76EE\u5F55\u4F4D\u4E8E\u7CFB\u7EDF\u6839\u76EE\u5F55\u4E0A\uFF0C\u53EF\u80FD\u4F1A\u5F71\u54CD\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C\uFF0C\u5EFA\u8BAE\u4F7F\u7528Docker\u8FC1\u79FB\u5411\u5BFC\u5C06Docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\u4E0A\u3002")])],-1)),Ul={key:1,class:"tooltip-trigger"},Hl={class:"disk_tip"},Rl=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5206\u533A\u5B58\u5728\u5F02\u5E38\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Gl={key:2,class:"tooltip-trigger"},Wl={class:"disk_tip"},Zl=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),jl=["onClick"],Xl=["onClick"],Ql={class:"progress"},Yl={class:"button"},Kl=["onClick"],Jl={key:0},t1={class:"progress"},e1={class:"button"},u1=["onClick"],s1={key:1},n1={class:"progress"},o1={class:"button"},a1=["onClick"],i1=V({__name:"disk",props:{title:String,type:String,smartWarning:Boolean},setup(e){const u=e,s=Ae(),a=G(()=>{var f,b,D,v;if(u.type==="systemRoot")return((b=(f=s==null?void 0:s.disk)==null?void 0:f.disks)==null?void 0:b.filter(c=>c.isSystemRoot))||[];if(u.type==="notSystemRoot")return[...(D=s==null?void 0:s.disk)==null?void 0:D.disks].filter(c=>!c.isSystemRoot)||[];if(u.type==="raid")return[...(v=s==null?void 0:s.raid)==null?void 0:v.disks]}),l=f=>f.usage>80?"linear-gradient(91deg, #e7ab67 0.27%, #fa5b29 99.46%)":"linear-gradient(91deg, #4BCAE7 0.27%, #8ADE86 99.46%)",p=()=>{at({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})},m=f=>{Ve({action:"disk",disk:f,Cancel:()=>{},Next:()=>{location.reload()}})},r=f=>{kl({action:"disk",disk:f,Cancel:()=>{},Next:()=>{location.reload()}})},n=f=>{const b=f.childrens||[];Te({action:"nas",disk:f,mount:b[0],Cancel:()=>{},Next:()=>{location.reload()}})},i=f=>f.errorInfo?"error":f.childrens==null||f.childrens.length==0||f.childrens.length==1&&f.childrens[0].filesystem=="No FileSystem"?"load":f.childrens.filter(b=>b.mountPoint).length===0?"unmounted":"success",_=f=>{let b=f.name;return f.size&&(b+=`\u3010${f.size}\u3011`),f.venderModel&&(b+=`(${f.venderModel})`),b};return(f,b)=>{var D;return o(),d("div",wl,[(D=a.value)!=null&&D.length?(o(),d("span",Al,F(u.title),1)):$("",!0),(o(!0),d(N,null,K(a.value,(v,c)=>{var E,h,k,w,y;return o(),d("div",{class:"item",key:c},[i(v)==="error"?(o(),d(N,{key:0},[t("span",null,F(_(v)),1),t("div",xl,[t("span",null,F(v.errorInfo),1)])],64)):i(v)=="success"?(o(),d(N,{key:1},[t("span",null,F(_(v)),1),v.smartWarning&&e.smartWarning?(o(),d("div",Sl,[t("div",Il,[t("div",{style:tt({background:l(v),width:`${v.usage||0}%`})},null,4),t("span",null,F(`${v.used}/${v.total}`),1)]),t("div",Pl,[t("span",{class:"btn",onClick:b[0]||(b[0]=C=>p())},[t("img",{src:R(Bl)},null,8,Vl),Tl])])])):(o(),d("div",Ml,[t("div",Ll,[t("div",{style:tt({background:l(v),width:`${v.usage||0}%`})},null,4),t("span",null,F(`${v.used}/${v.total}`),1)]),t("div",Ol,[v.isDockerRoot&&v.isSystemRoot&&v.usage&&v.usage>=90?(o(),d("span",zl,[t("span",Nl,[x(dt)]),ql])):$("",!0),!v.isSystemRoot&&(((E=v.childrens)==null?void 0:E.filter(C=>C.isReadOnly||C.filesystem=="ntfs").length)||0)>0?(o(),d("span",Ul,[t("span",Hl,[x(dt)]),Rl])):$("",!0),(h=v.childrens)!=null&&h.filter(C=>C.isSystemRoot&&C.usage&&C.usage>80).length?(o(),d("span",Gl,[t("span",Wl,[x(dt)]),Zl])):$("",!0),!v.isSystemRoot&&(((k=v.childrens)==null?void 0:k.filter(C=>C.isReadOnly||C.filesystem=="ntfs").length)||0)>0?(o(),d("img",{key:3,src:Ua,onClick:C=>m(v),alt:""},null,8,jl)):$("",!0),t("img",{onClick:C=>r(v),src:Ha,alt:""},null,8,Xl)])]))],64)):i(v)==="load"?(o(),d(N,{key:2},[t("span",null,F(_(v)),1),t("div",Ql,[t("div",{style:tt({width:`${v.usage||0}%`})},null,4),t("span",null,F(`${v.used}/${v.total}`),1)]),t("div",Yl,[t("span",{class:"btn",onClick:C=>m(v)},"\u683C\u5F0F\u5316\u5E76\u6302\u8F7D",8,Kl)])],64)):i(v)==="unmounted"?(o(),d(N,{key:3},[t("span",null,F(_(v)),1),((w=v.childrens)==null?void 0:w.length)==1?(o(),d("div",Jl,[t("div",t1,[t("div",{style:tt({background:l(v),width:`${v.usage||0}%`})},null,4),t("span",null,F(`${v.used}/${v.total}`),1)]),t("div",e1,[t("span",{class:"btn",onClick:C=>n(v)},"\u624B\u52A8\u6302\u8F7D",8,u1)])])):$("",!0),(((y=v.childrens)==null?void 0:y.length)||0)>1?(o(),d("div",s1,[t("div",n1,[t("div",{style:tt({background:l(v),width:`${v.usage||0}%`})},null,4),t("span",null,F(`${v.used}/${v.total}`),1)]),t("div",o1,[t("span",{class:"btn",onClick:C=>r(v)},"\u624B\u52A8\u6302\u8F7D",8,a1)])])):$("",!0)],64)):$("",!0)])}),128))])}}});var Rt=S(i1,[["__scopeId","data-v-e039a994"]]),ge="/luci-static/istorex/right.svg?v=173d63f8";const l1=Xt('<div class="app-container_status-label_iconer" data-v-580b5628><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-580b5628><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-580b5628></rect><rect x="3" y="19" width="6" height="6" fill="#CCCCCC" data-v-580b5628></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#999999" data-v-580b5628></path></svg></div>',1),c1={class:"app-container_status-label_text"},d1={class:"text_status"},r1={class:"text_info"},_1=Xt('<div class="app-container_status-label_iconer" data-v-580b5628><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-580b5628><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-580b5628></rect><rect x="3" y="19" width="6" height="6" fill="#8ECF57" data-v-580b5628></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#4D4D4D" data-v-580b5628></path></svg></div>',1),p1={class:"app-container_status-label_text"},v1={class:"text_info"},h1=V({__name:"item",props:{item:{type:Object,required:!0},transform:{type:Number,default:0}},setup(e){const u=e,s=xe(),a=g(null),l=m=>{const r=m.target,{left:n,top:i}=r.getBoundingClientRect();s.portitemStyle.show=!0,s.portitemStyle.left=n,s.portitemStyle.top=i,s.portitemStyle.portitem=u.item},p=m=>{s.portitemStyle.show=!1};return(m,r)=>(o(),d("div",{class:"app-container_status-label_bg",style:tt(`transform: translateX(${e.transform}px);`),ref_key:"el",ref:a,onMouseenter:l,onMouseleave:p},[e.item.linkState=="DOWN"?(o(),d(N,{key:0},[l1,t("div",c1,[t("div",d1,F(m.$t("\u5DF2\u65AD\u5F00")),1),t("div",r1,F(e.item.name)+" "+F(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64)):(o(),d(N,{key:1},[_1,t("div",p1,[t("div",null,F(e.item.linkSpeed),1),t("div",v1,F(e.item.name)+" "+F(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64))],36))}});var F1=S(h1,[["__scopeId","data-v-580b5628"]]);const m1=V({__name:"index",props:{portList:{type:Array,required:!0}},setup(e){const u=g(),s=g(0),a=g(0),l=g(0),p=g(!1),m=()=>{if(l.value>=0){l.value=0;return}l.value+=100},r=()=>{if(l.value<=0-s.value+a.value){l.value=0-s.value+a.value;return}l.value-=100};return st(()=>{Xe(()=>{u.value&&(s.value=u.value.scrollWidth,a.value=u.value.clientWidth,p.value=s.value>a.value)})}),(n,i)=>(o(),d("div",{class:"app-interfaces",ref_key:"el",ref:u},[p.value?(o(),d(N,{key:0},[t("img",{src:ge,class:"btn-f",alt:"",onClick:m}),t("img",{src:ge,class:"btn-r",alt:"",onClick:r})],64)):$("",!0),(o(!0),d(N,null,K(e.portList,(_,f)=>(o(),O(F1,{item:_,transform:l.value},null,8,["item","transform"]))),256))],512))}});var f1=S(m1,[["__scopeId","data-v-92f8fb6c"]]);const E1={class:"status-card"},C1=V({__name:"interfacer-status",setup(e){const u=mt({portList:[],load:!1});return(()=>{P.Network.PortList.GET().then(a=>{if(a!=null&&a.data){const{result:l}=a==null?void 0:a.data;l&&(u.portList=l.ports||[])}}).finally(()=>{u.load=!0})})(),(a,l)=>(o(),d("div",E1,[u.load?(o(),O(f1,{key:0,portList:u.portList},null,8,["portList"])):$("",!0)]))}});var g1=S(C1,[["__scopeId","data-v-2244abae"]]);const rt={installApp:(e,u)=>new Promise((s,a)=>{let l=0;P.App.Install.POST({name:e}).then(()=>{const p=setTimeout(()=>{l==0&&(l=1,s(!1))},(u||60)*1e3),m=()=>{l==0&&P.App.Check.POST({name:e}).then(r=>{if(l==0&&r!=null&&r.data){const{result:n}=r.data;if((n==null?void 0:n.status)=="installed"){clearTimeout(p),l=1,s(!0);return}}}).catch(r=>{}).finally(()=>{l==0&&setTimeout(m,3e3)})};setTimeout(m,3e3)}).catch(p=>{l==0&&(l=1,a("\u5B89\u88C5\u5931\u8D25\uFF0C"+p))})}),checkAndInstallApp:(e,u,s)=>M(void 0,null,function*(){let a=A.Loading("\u68C0\u67E5\u4E2D...");try{const l=yield P.App.Check.POST({name:e});if(a.Close(),l!=null&&l.data){const{result:p,error:m}=l.data;if(m)A.Warning(m);else if(p){if(p.status=="installed")return!0;if(confirm(`\u68C0\u6D4B\u5230\u4F60\u5C1A\u672A\u5B89\u88C5 ${u} \u63D2\u4EF6,\u662F\u5426\u5B89\u88C5\uFF1F`)){a=A.Loading("\u6B63\u5728\u5B89\u88C5\u4E2D...");const r=yield rt.installApp(s||e);if(a.Close(),r)return!0;A.Error("\u5B89\u88C5\u5931\u8D25\u6216\u8D85\u65F6\uFF0C\u8BF7\u68C0\u67E5\u8F6F\u4EF6\u6E90\u6216\u7A0D\u5019\u91CD\u8BD5")}}else A.Warning("\u68C0\u67E5\u63D2\u4EF6\u72B6\u6001\u5931\u8D25")}return!1}catch(l){return a.Close(),A.Warning(l),!1}}),installAndGo:(e,u,s,a)=>M(void 0,null,function*(){(yield rt.checkAndInstallApp(e,u,a))&&(location.href=s)})};const $1={class:"width-50 responsive"},b1={class:"chart"},y1={class:"info"},D1={class:"width-50 responsive"},k1=V({__name:"index",setup(e){const u=Nt.stampForm,s=mt({cpuUsage:0,cpuTemperature:0,memAvailablePercentage:0,uptime:0,localtime:""}),a=mt({firmwareVersion:"",kernelVersion:"",model:""});mt({root:[],loaded:[]});const l={interfaceconfig:[{text:"\u7F51\u53E3\u914D\u7F6E",onClick:()=>{at({title:"\u7F51\u53E3\u914D\u7F6E",src:"/cgi-bin/luci/admin/quickstart/interfaceconfig"})}}],system:[{text:"\u7CFB\u7EDF\u76D1\u63A7",onClick:()=>{rt.installAndGo("app-meta-netdata","NetData","/cgi-bin/luci/admin/status/netdata")}},{text:"\u5907\u4EFD\u5347\u7EA7",onClick:()=>{at({title:"\u5907\u4EFD\u5347\u7EA7",src:"/cgi-bin/luci/admin/system/flash"})}},{text:"\u63D2\u4EF6\u5907\u4EFD",onClick:()=>{at({title:"\u63D2\u4EF6\u5907\u4EFD",src:"/cgi-bin/luci/admin/store/pages/maintance"})}}],disk:[{text:"RAID\u7BA1\u7406",onClick:()=>{at({title:"RAID\u7BA1\u7406",src:"/cgi-bin/luci/admin/nas/raid"})}},{text:"S.M.A.R.T.",onClick:()=>{at({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})}},{text:"\u78C1\u76D8\u7BA1\u7406",onClick:()=>{at({title:"\u78C1\u76D8\u7BA1\u7406",src:"/cgi-bin/luci/admin/system/diskman"})}},{text:"\u6302\u8F7D\u70B9",onClick:()=>{at({title:"\u6302\u8F7D\u70B9",src:"/cgi-bin/luci/admin/system/mounts"})}}]},p=()=>M(this,null,function*(){var b,D,v,c,E;const f=yield P.System.Status.GET();console.log("getSystemStatus",f.data.result),f.data.result&&(s.uptime=(b=f.data.result)==null?void 0:b.uptime,s.localtime=(D=f.data.result)==null?void 0:D.localtime,s.cpuUsage=((v=f.data.result)==null?void 0:v.cpuUsage)||0,s.memAvailablePercentage=100-((c=f.data.result)==null?void 0:c.memAvailablePercentage)||0,s.cpuTemperature=(E=f.data.result)==null?void 0:E.cpuTemperature,_.cpu&&_.cpu.setValue(s.cpuUsage),_.men&&_.men.setValue(s.memAvailablePercentage),_.temperature&&_.temperature.setValue(s.cpuTemperature),window.setInterval(()=>{s.uptime&&(s.uptime=s.uptime+1),s.localtime&&(s.localtime=String(me(me(s.localtime).unix()*1e3+1e3).format("YYYY-MM-DD HH:mm:ss")))},1e3))}),m=()=>M(this,null,function*(){var b,D,v;const f=yield P.System.Version.GET();console.log("getSystemVersion",f),f.data.result&&(a.firmwareVersion=(b=f.data.result)==null?void 0:b.firmwareVersion,a.kernelVersion=(D=f.data.result)==null?void 0:D.kernelVersion,a.model=(v=f.data.result)==null?void 0:v.model)});Ae();const r=g(null),n=g(null),i=g(null),_={cpu:null,men:null,temperature:null};return st(()=>{r.value&&n.value&&i.value&&(_.cpu=Ht({el:r.value,value:s.cpuUsage,name:ct.global.t("CPU\u4F7F\u7528\u7387"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}),_.men=Ht({el:n.value,value:s.memAvailablePercentage,name:ct.global.t("\u5185\u5B58\u4F7F\u7528\u7387"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#F66631",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#E5B56E"},{offset:1,color:"#FD4812E5"}],global:!1}}),_.temperature=Ht({el:i.value,value:s.cpuTemperature,name:ct.global.t("CPU\u6E29\u5EA6"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",unit:"\xB0C",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}))}),p(),m(),(f,b)=>(o(),O(ft,null,{default:T(()=>[t("div",$1,[x(j,{title:f.$t("\u7F51\u7EDC\u63A5\u53E3\u72B6\u6001"),span:24,"more-actions":l.interfaceconfig,padding:"0 10px 8px 10px"},{default:T(()=>[x(g1)]),_:1},8,["title","more-actions"]),x(j,{title:f.$t("\u7CFB\u7EDF\u4FE1\u606F"),padding:"0 10px 8px 10px",span:24,"more-actions":l.system},{default:T(()=>[t("div",b1,[t("div",{class:"gauge",ref_key:"temperature",ref:i},null,512),t("div",{class:"gauge",ref_key:"cpu",ref:r},null,512),t("div",{class:"gauge",ref_key:"men",ref:n},null,512)]),t("div",y1,[t("div",null,[t("span",null,F(f.$t("\u8BBE\u5907\u578B\u53F7"))+"\uFF1A",1),t("span",null,F(a.model),1)]),t("div",null,[t("span",null,F(f.$t("\u56FA\u4EF6\u7248\u672C"))+"\uFF1A",1),t("span",null,F(a.firmwareVersion),1)]),t("div",null,[t("span",null,F(f.$t("\u5185\u6838\u7248\u672C"))+"\uFF1A",1),t("span",null,F(a.kernelVersion),1)]),t("div",null,[t("span",null,F(f.$t("\u5DF2\u542F\u52A8"))+"\uFF1A",1),t("span",null,F(R(u)(s.uptime)),1)]),t("div",null,[t("span",null,F(f.$t("\u7CFB\u7EDF\u65F6\u95F4"))+"\uFF1A",1),t("span",null,F(s.localtime),1)])])]),_:1},8,["title","more-actions"])]),t("div",D1,[x(j,{title:f.$t("\u78C1\u76D8\u4FE1\u606F"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/8myYAEVA/",span:24,"more-actions":l.disk},{default:T(()=>[x(Rt,{title:f.$t("\u7CFB\u7EDF\u6839\u76EE\u5F55"),type:"systemRoot"},null,8,["title"]),x(Rt,{title:f.$t("\u5DF2\u6302\u8F7D\u78C1\u76D8"),smartWarning:!0,type:"notSystemRoot"},null,8,["title"]),x(Rt,{title:f.$t("RAID\u8BBE\u5907"),type:"raid"},null,8,["title"])]),_:1},8,["title","more-actions"])])]),_:1}))}});var B1=S(k1,[["__scopeId","data-v-3f470552"]]),w1="/luci-static/istorex/setting.svg?v=9ffe8a9b";const A1={class:"app"},x1={class:"setting"},S1=["src"],I1=["src"],P1=V({__name:"app",props:{title:{},title_en:{},name:{},isWebUrl:{type:Function},openApp:{type:Function},openWebUrl:{type:Function}},setup(e){const u=e,s=g(localStorage.getItem("i18n")),a=l=>P.ApiStore.getStoreAppIcon(`/static-icon/openwrt-app-meta/app-meta-${l}/logo.png`);return st(()=>{Ie.subscribe("changeLocale",(l,p)=>{p==="auto"?s.value=navigator.language:s.value=p})}),(l,p)=>(o(),d("div",A1,[u.isWebUrl()?(o(),d("div",{key:0,onClick:p[1]||(p[1]=m=>u.openWebUrl())},[t("span",x1,[t("img",{src:w1,alt:"",onClick:p[0]||(p[0]=m=>{m.stopPropagation(),u.openApp()})})]),t("div",null,[t("img",{class:"app-icon",src:a(u.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,S1),t("span",null,F(s.value==="en"&&u.title_en||u.title),1)])])):(o(),d("div",{key:1,onClick:p[2]||(p[2]=m=>u.openApp())},[t("div",null,[t("img",{class:"app-icon",src:a(u.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,I1),t("span",null,F(s.value==="en"&&u.title_en||u.title),1)])]))]))}});var V1=S(P1,[["__scopeId","data-v-a17f77d8"]]);const T1=e=>(q("data-v-042b9e9a"),e=e(),U(),e),M1={class:"app-store"},L1=T1(()=>t("span",null,"APP Store",-1)),O1=V({__name:"index",setup(e){const u=Qe(),s=G(()=>u.localApps.filter(l=>l.name!="istorex"));return(()=>M(this,null,function*(){yield u.getApp()}))(),(l,p)=>(o(),O(ft,{title:l.$t("\u5E94\u7528\u4E2D\u5FC3")},{default:T(()=>[t("div",M1,[t("div",{class:"store",onClick:p[0]||(p[0]=m=>R(Ye).Open())},[t("div",null,[t("div",null,[t("span",null,F(l.$t("\u5E94\u7528\u5546\u5E97")),1),L1])])]),(o(!0),d(N,null,K(s.value,m=>(o(),O(V1,Ke(Je(m)),null,16))),256))])]),_:1},8,["title"]))}});var z1=S(O1,[["__scopeId","data-v-042b9e9a"]]),N1="/luci-static/istorex/copy.png?v=7ec874a7";const _t=e=>(q("data-v-43beecef"),e=e(),U(),e),q1={class:"actioner-container"},U1=_t(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),H1={class:"actioner-container_body"},R1={class:"label-item"},G1=_t(()=>t("span",null,"DDNSTO",-1)),W1=_t(()=>t("p",{class:"label_info"},"DDNSTO \u662F\u4E00\u4E2A\u4E0D\u9700\u8981\u516C\u7F51IP\u4E5F\u53EF\u4EE5\u5728\u5916\u7F51\u8BBF\u95EE\u7684\u7A7F\u900F\u57DF\u540D\u670D\u52A1\uFF0C\u4E00\u4E2A\u6D4F\u89C8\u5668\u641E\u5B9A\u5185\u7F51\u7A7F\u900F\uFF0C\u8FDC\u7A0B\u8BBF\u95EEOpenwrt\u3001\u8FDC\u7A0B\u7EC8\u7AEF\u3001\u8FDC\u7A0B\u684C\u9762...",-1)),Z1={class:"label-item"},j1=_t(()=>t("span",null,"\u963F\u91CC\u4E91",-1)),X1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),Q1={class:"label-item"},Y1=_t(()=>t("span",null,"Dnspod",-1)),K1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),J1={class:"label-item"},tc=_t(()=>t("span",null,"\u82B1\u751F\u58F3",-1)),ec=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),uc=V({__name:"setup-index",props:{onSetup:{type:Function,required:!0},active:{type:String,default:"ddnsto"}},emits:["update:active"],setup(e,{emit:u}){const s=e,a=()=>{s.onSetup()},l=g(s.active),p=()=>{switch(u("update:active",l.value),l.value){case"ddnsto":s.onSetup("ddnsto");break;case"ali":s.onSetup("ddns-ali");break;case"dnspod":s.onSetup("ddns-dnspod");break;case"oray":s.onSetup("ddns-oray");break}};return(m,r)=>(o(),d("div",q1,[U1,t("div",H1,[t("div",R1,[t("label",null,[L(t("input",{type:"radio","onUpdate:modelValue":r[0]||(r[0]=n=>l.value=n),value:"ddnsto"},null,512),[[it,l.value]]),G1]),W1]),t("div",Z1,[t("label",null,[L(t("input",{type:"radio","onUpdate:modelValue":r[1]||(r[1]=n=>l.value=n),value:"ali"},null,512),[[it,l.value]]),j1]),X1]),t("div",Q1,[t("label",null,[L(t("input",{type:"radio","onUpdate:modelValue":r[2]||(r[2]=n=>l.value=n),value:"dnspod"},null,512),[[it,l.value]]),Y1]),K1]),t("div",J1,[t("label",null,[L(t("input",{type:"radio","onUpdate:modelValue":r[3]||(r[3]=n=>l.value=n),value:"oray"},null,512),[[it,l.value]]),tc]),ec])]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:a},"\u53D6\u6D88"),t("div",{class:"next",onClick:p},"\u4E0B\u4E00\u6B65")])]))}});var sc=S(uc,[["__scopeId","data-v-43beecef"]]);const Ot=e=>(q("data-v-43dd65a2"),e=e(),U(),e),nc={class:"actioner-container"},oc={class:"actioner-container_body"},ac=Ot(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),ic=Ot(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),lc=Ot(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),cc={class:"body-info"},dc=Ot(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),rc=["href"],_c=Ot(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"/cgi-bin/luci/admin/services/ddns",target:"_blank"},"\u670D\u52A1-\u52A8\u6001DNS"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),pc=V({__name:"setup-ddns-success",props:{target:{type:String,required:!0},onSetup:{type:Function,required:!0}},setup(e){const u=()=>{location.reload()};return(s,a)=>(o(),d("div",nc,[t("div",oc,[ac,ic,lc,t("div",cc,[dc,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},F(e.target),9,rc)]),_c]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var vc=S(pc,[["__scopeId","data-v-43dd65a2"]]);const Oe=e=>(q("data-v-7790f1da"),e=e(),U(),e),hc={class:"actioner-container"},Fc=Oe(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),mc=Oe(()=>t("div",{class:"actioner-container_body ddnsto-login"},[t("iframe",{src:"https://www.kooldns.cn/bind/#/auth?send=1&source=openwrt&callback=*"})],-1)),fc=V({__name:"setup-ddnsto-login",props:{onSetup:{type:Function,required:!0},onDdnstoConfig:{type:Function,required:!0}},setup(e){const u=e,s=()=>{u.onSetup()},a=l=>{if(l.data.auth=="ddnsto"){const p=l.data.sign,m=l.data.token;p&&m&&(removeEventListener("message",a),u.onDdnstoConfig(p,m),u.onSetup("ddnsto-run"))}};return st(()=>{window.addEventListener("message",a)}),Bt(()=>{removeEventListener("message",a)}),(l,p)=>(o(),d("div",hc,[Fc,mc,t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:s},"\u53D6\u6D88")])]))}});var Ec=S(fc,[["__scopeId","data-v-7790f1da"]]);const Cc=e=>(q("data-v-5baf4b05"),e=e(),U(),e),gc={class:"actioner-container"},$c=Cc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),bc={class:"actioner-container_body ddnsto-bind"},yc=["src"],Dc=V({__name:"setup-ddnsto-bind",props:{onSetup:{type:Function,required:!0},config:{type:Object,required:!0},domain:{type:String,required:!0}},emits:["update:domain"],setup(e,{emit:u}){const s=e,a=G(()=>{const{domain:m,token:r,sign:n,routerId:i,netaddr:_}=s.config,f=encodeURIComponent(m),b=encodeURIComponent(_);return`https://www.kooldns.cn/bind/#/domain?domain=${f}&sign=${n}&token=${r}&routerId=${i}&netaddr=${b}`}),l=m=>{if(m.data){const{auth:r,url:n}=m.data;r==="ddnsto"&&n&&p(n)}},p=m=>M(this,null,function*(){var r;try{const n=yield P.Guide.DdnstoAddress.POST({address:m});n!=null&&n.data&&(((r=n==null?void 0:n.data)==null?void 0:r.success)||0)==0&&(u("update:domain",m),s.onSetup("ddnsto-save"))}catch(n){}});return st(()=>{window.addEventListener("message",l)}),Bt(()=>{removeEventListener("message",l)}),(m,r)=>(o(),d("div",gc,[$c,t("div",bc,[t("iframe",{src:a.value},null,8,yc)])]))}});var kc=S(Dc,[["__scopeId","data-v-5baf4b05"]]);const zt=e=>(q("data-v-02a6c9d8"),e=e(),U(),e),Bc={class:"actioner-container"},wc={class:"actioner-container_body"},Ac=zt(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),xc=zt(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),Sc=zt(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),Ic={class:"body-info"},Pc=zt(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),Vc=["href"],Tc=zt(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"https://www.ddnsto.com/app/#/devices",target:"_blank"},"DDNSTO\u63A7\u5236\u53F0"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),Mc=V({__name:"setup-ddnsto-save",props:{onSetup:{type:Function,required:!0},target:{type:String,required:!0}},setup(e){const u=()=>{location.reload()};return(s,a)=>(o(),d("div",Bc,[t("div",wc,[Ac,xc,Sc,t("div",Ic,[Pc,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},F(e.target),9,Vc)]),Tc]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var Lc=S(Mc,[["__scopeId","data-v-02a6c9d8"]]);const Oc=e=>(q("data-v-4f87c1d1"),e=e(),U(),e),zc={class:"actioner-container"},Nc=Oc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),qc={class:"actioner-container_body"},Uc={class:"actioner-container_footer"},Hc=V({__name:"setup-ddnsto-install",props:{onSetup:{type:Function,required:!0}},setup(e){const u=e,s=()=>{u.onSetup()},a=()=>M(this,null,function*(){if(m.value)return;m.value=!0;const n=A.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){u.onSetup("ddnsto-login");return}else l.value="\u5B89\u88C5\u5931\u8D25"}catch(i){l.value=i}finally{n.Close()}m.value=!1}),l=g("\u6B63\u5728\u68C0\u6D4B\u4E2D..."),p=g(!1),m=g(!1);return(()=>M(this,null,function*(){try{const n=yield P.App.Check.POST({name:"ddnsto"});if(n!=null&&n.data){const{result:i,error:_}=n.data;if(_){l.value=_;return}if(i){if(i.status=="installed"){u.onSetup("ddnsto-login");return}i.status=="uninstalled"&&(l.value="\u9700\u8981\u5B89\u88C5DDNSTO\u63D2\u4EF6\uFF0C\u70B9\u51FB\u201C\u786E\u5B9A\u201D\u5F00\u59CB\u5B89\u88C5")}}}catch(n){l.value=n}p.value=!0}))(),(n,i)=>(o(),d("div",zc,[Nc,t("div",qc,[t("span",null,F(l.value),1)]),t("div",Uc,[p.value?(o(),d(N,{key:0},[t("div",{class:"close",onClick:s},"\u53D6\u6D88"),t("div",{class:"next",onClick:a},"\u786E\u5B9A")],64)):$("",!0)])]))}});var Rc=S(Hc,[["__scopeId","data-v-4f87c1d1"]]);const Gc=e=>(q("data-v-06c9d91d"),e=e(),U(),e),Wc={class:"actioner-container"},Zc=Gc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),jc={class:"actioner-container_body"},Xc=V({__name:"setup-ddnsto-run",props:{onSetup:{type:Function,required:!0},token:{type:String,required:!0},onDdnstoLocalConfig:{type:Function,required:!0}},setup(e){const u=e,s=g("\u6B63\u5728\u68C0\u6D4B\u63D2\u4EF6\u662F\u5426\u5DF2\u542F\u52A8...");(n=>M(this,null,function*(){var i;try{const _=yield P.Guide.Ddnsto.POST({token:u.token});_!=null&&_.data&&(_.data.error&&(s.value=_.data.error),(((i=_==null?void 0:_.data)==null?void 0:i.success)||0)==0&&p())}catch(_){s.value=_}}))(u.token);const l=g(),p=()=>{const n=()=>M(this,null,function*(){if((yield m())===!0){r();return}l.value=window.setTimeout(n,2e3)});n()},m=()=>M(this,null,function*(){try{const n=yield P.App.Check.POST({name:"ddnsto",checkRunning:!0});if(n!=null&&n.data){n.data.error&&(s.value=n.data.error);const i=n.data.result;if((i==null?void 0:i.status)=="running")return!0}}catch(n){s.value=n}return!1});Bt(()=>{l.value&&clearInterval(l.value)});const r=()=>M(this,null,function*(){var n;try{const i=yield P.Guide.DdntoConfig.GET();if(i!=null&&i.data&&(i.data.error&&(s.value=i.data.error),(((n=i==null?void 0:i.data)==null?void 0:n.success)||0)==0&&i.data.result)){const _=i.data.result;u.onDdnstoLocalConfig(_.netAddr,_.deviceId),u.onSetup("ddnsto-bind")}}catch(i){s.value=i}});return(n,i)=>(o(),d("div",Wc,[Zc,t("div",jc,F(s.value),1)]))}});var Qc=S(Xc,[["__scopeId","data-v-06c9d91d"]]);const Yc={class:"action-main"},Kc=V({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,s=g("ddnsto-install"),a=n=>{n!=null?s.value=n:l()},l=()=>{u.Close&&u.Close()},p=mt({sign:"",token:"",domain:u.url,netaddr:"",routerId:""}),m=(n,i)=>{p.sign=n,p.token=i},r=(n,i)=>{p.netaddr=n,p.routerId=i};return(n,i)=>(o(),O(ot,{type:1},{default:T(()=>[t("div",Yc,[s.value=="ddnsto-install"?(o(),O(Rc,{key:0,onSetup:a})):s.value=="ddnsto-login"?(o(),O(Ec,{key:1,onSetup:a,onDdnstoConfig:m})):s.value=="ddnsto-run"?(o(),O(Qc,{key:2,onSetup:a,token:p.token,onDdnstoLocalConfig:r},null,8,["token"])):s.value=="ddnsto-bind"?(o(),O(kc,{key:3,onSetup:a,config:{token:p.token,sign:p.sign,domain:p.domain,netaddr:p.netaddr,routerId:p.routerId},domain:p.domain,"onUpdate:domain":i[0]||(i[0]=_=>p.domain=_)},null,8,["config","domain"])):s.value=="ddnsto-save"?(o(),O(Lc,{key:4,onSetup:a,target:p.domain},null,8,["target"])):$("",!0)])]),_:1}))}});var Jc=S(Kc,[["__scopeId","data-v-2b767e18"]]);const td=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=nt(Jc,ht(vt({},e),{Close:()=>{a()}}));s.mount(u);const a=()=>{s.unmount(),u.remove()};return{Close:a}};const ed={class:"action"},ud={class:"action-header"},sd=["innerHTML"],nd={class:"action-footer"},od=V({__name:"index",props:{Close:Function,next:{type:Function},clear:{type:Function},continuer:{type:Function},nextTitle:{type:String,default:"\u786E\u5B9A"},clearTitle:{type:String,default:"\u8FD4\u56DE"},continuerTitle:{type:String,default:"\u7EE7\u7EED\u4FDD\u5B58"},title:{type:String,default:"\u63D0\u793A"},content:{type:String}},setup(e){const u=e,s=()=>{u.next&&u.next(),u.Close&&u.Close()},a=()=>{u.clear&&u.clear(),u.Close&&u.Close()},l=()=>{u.continuer&&u.continuer(),u.Close&&u.Close()};return(p,m)=>(o(),O(ot,{Close:e.Close,type:1},{default:T(()=>[t("div",ed,[t("div",ud,F(e.title),1),t("div",{class:"action-body",innerHTML:e.content},null,8,sd),t("div",nd,[e.clear?(o(),d("div",{key:0,class:"clear",onClick:a},F(e.clearTitle),1)):$("",!0),t("div",{class:"next",onClick:s},F(e.nextTitle),1),e.continuer?(o(),d("div",{key:1,class:"next",onClick:l},F(e.continuerTitle),1)):$("",!0)])])]),_:1},8,["Close"]))}});var ad=S(od,[["__scopeId","data-v-4283f74c"]]);const $e=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=nt(ad,ht(vt({},e),{Close:()=>{a()}}));s.mount(u);const a=()=>{s.unmount(),u.remove()};return{Close:a}};const X=e=>(q("data-v-b1e12544"),e=e(),U(),e),id={class:"actioner-container"},ld=["onSubmit"],cd=X(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),dd={key:0,class:"title_info"},rd=X(()=>t("p",null,"\u963F\u91CC\u4E91",-1)),_d=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),pd=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E9%98%BF%E9%87%8C%E4%BA%91",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),vd=[rd,_d,pd],hd={key:1,class:"title_info"},Fd=X(()=>t("p",null,"dnspod",-1)),md=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),fd=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#dnspod",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),Ed=[Fd,md,fd],Cd={key:2,class:"title_info"},gd=X(()=>t("p",null,"\u82B1\u751F\u58F3",-1)),$d=X(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),bd=X(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E8%8A%B1%E7%94%9F%E5%A3%B3",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),yd=[gd,$d,bd],Dd={class:"label-item"},kd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u5730\u5740\u7248\u672C\uFF1A")],-1)),Bd={class:"label-item_value"},wd=X(()=>t("option",{value:"ipv4"},"IPv4\u5730\u5740",-1)),Ad=X(()=>t("option",{value:"ipv6"},"IPv6\u5730\u5740",-1)),xd=[wd,Ad],Sd=X(()=>t("div",{class:"label_tips"},[t("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",{id:"icon_alert",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"14",height:"14"}),t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])])]),t("span",{class:"info"},"\u8BBE\u5B9A\u54EA\u4E00\u4E2A IP \u5730\u5740\uFF08IPv4 \u6216 IPv6\uFF09\u4F1A\u88AB\u53D1\u9001\u7ED9 DDNS \u63D0\u4F9B\u5546")],-1)),Id={class:"label-item"},Pd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u57DF\u540D\uFF1A")],-1)),Vd={class:"label-item_value"},Td={class:"label-item"},Md=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u7528\u6237\u540D\uFF1A")],-1)),Ld={class:"label-item_value"},Od={class:"label-item"},zd=X(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5BC6\u7801\uFF1A")],-1)),Nd={class:"label-item_value"},qd={class:"actioner-container_footer"},Ud=["disabled"],Hd=V({__name:"setup-ddns",props:{name:{type:String,default:"ali"},onSetup:{type:Function,required:!0},target:{type:String,required:!0}},emits:["update:target"],setup(e,{emit:u}){const s=e,a=g("ipv4"),l=g(s.name),p=g(""),m=g(""),r=g(""),n=g(!1),i=()=>{s.onSetup("index")},_=()=>{n.value=!0;const v=A.Loading("\u68C0\u6D4B\u4E2D...");P.Network.CheckPublickNet.POST({ipVersion:a.value}).then(c=>{var E,h;if(c!=null&&c.data){if((E=c==null?void 0:c.data)!=null&&E.error){A.Warning(c==null?void 0:c.data.error);return}if((((h=c==null?void 0:c.data)==null?void 0:h.success)||0)==0){const k=c.data.result;k&&k.address?D():f();return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(c=>{A.Error(c)}).finally(()=>{v.Close(),n.value=!1})},f=()=>{$e({title:"\u6E29\u99A8\u63D0\u793A",nextTitle:"\u4F7F\u7528DDNSTO",continuerTitle:"\u7EE7\u7EED\u4FDD\u5B58",content:"\u68C0\u6D4B\u5230\u60A8\u7684wan\u53E3\u6CA1\u6709\u516C\u7F51IP\u6216\u8005IPv6\u5730\u5740\uFF0C\u53EF\u4EE5\u4F7F\u7528DDNSTO\u914D\u7F6E\u8FDC\u7A0B\u57DF\u540D\u8BBF\u95EE",next(){b()},continuer(){D()},clear(){}})},b=()=>{s.onSetup("ddnsto")},D=()=>{n.value=!0;const v=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.PostDdns.POST({ipVersion:a.value,serviceName:l.value,domain:p.value,userName:m.value,password:r.value}).then(c=>{if(c!=null&&c.data){const{error:E,scope:h,success:k}=c.data;if(E=="-100"&&h=="guide.ddns"){$e({title:"\u6E29\u99A8\u63D0\u793A",content:"\u68C0\u6D4B\u5230\u4F60\u6709\u672A\u4FDD\u5B58\u7684\u914D\u7F6E\uFF0C\u53EF\u524D\u5F80\u9875\u9762\u53F3\u4E0A\u89D2\u70B9\u51FB\u67E5\u770B\uFF0C\u4FDD\u5B58\u5E76\u5E94\u7528\u6216\u8005\u6062\u590D\u914D\u7F6E\u540E\u7EE7\u7EED",next(){}});return}if(E){A.Warning(E);return}if((k||0)==0){u("update:target",p.value),s.onSetup("ddns-success");return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(c=>{A.Error(c)}).finally(()=>{v.Close(),n.value=!1})};return(v,c)=>(o(),d("div",id,[t("form",{class:"actioner-dns",onSubmit:lt(_,["prevent"])},[cd,t("div",{class:Qt(["actioner-container_body",e.name])},[e.name=="ali"?(o(),d("div",dd,vd)):e.name=="dnspod"?(o(),d("div",hd,Ed)):e.name=="oray"?(o(),d("div",Cd,yd)):$("",!0),t("div",Dd,[kd,t("div",Bd,[L(t("select",{name:"",id:"","onUpdate:modelValue":c[0]||(c[0]=E=>a.value=E)},xd,512),[[Et,a.value]])]),Sd]),t("div",Id,[Pd,t("div",Vd,[L(t("input",{type:"text",placeholder:"myhost.example.com","onUpdate:modelValue":c[1]||(c[1]=E=>p.value=E),required:""},null,512),[[Y,p.value,void 0,{trim:!0}]])])]),t("div",Td,[Md,t("div",Ld,[L(t("input",{type:"text","onUpdate:modelValue":c[2]||(c[2]=E=>m.value=E),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",required:""},null,512),[[Y,m.value,void 0,{trim:!0}]])])]),t("div",Od,[zd,t("div",Nd,[L(t("input",{type:"password","onUpdate:modelValue":c[3]||(c[3]=E=>r.value=E),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",required:""},null,512),[[Y,r.value,void 0,{trim:!0}]])])])],2),t("div",qd,[t("div",{class:"close",onClick:i,type:"button"},"\u8FD4\u56DE"),t("button",{class:"next save",type:"submit",disabled:n.value}," \u4FDD\u5B58 ",8,Ud)])],40,ld)]))}});var Gt=S(Hd,[["__scopeId","data-v-b1e12544"]]);const Rd={class:"action-main"},Gd=V({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,s=g(""),a=g("index"),l=n=>{if(n!=null){if(n=="ddnsto"){p();return}a.value=n}else m()},p=()=>{m(),td({url:u.url})},m=()=>{u.Close&&u.Close()},r=g("ddnsto");return(n,i)=>(o(),O(ot,{Close:e.Close,type:1},{default:T(()=>[t("div",Rd,[a.value=="index"?(o(),O(sc,{key:0,onSetup:l,active:r.value,"onUpdate:active":i[0]||(i[0]=_=>r.value=_)},null,8,["active"])):a.value=="ddns-ali"?(o(),O(Gt,{key:1,onSetup:l,target:s.value,"onUpdate:target":i[1]||(i[1]=_=>s.value=_),name:"ali"},null,8,["target"])):a.value=="ddns-dnspod"?(o(),O(Gt,{key:2,onSetup:l,target:s.value,"onUpdate:target":i[2]||(i[2]=_=>s.value=_),name:"dnspod"},null,8,["target"])):a.value=="ddns-oray"?(o(),O(Gt,{key:3,onSetup:l,target:s.value,"onUpdate:target":i[3]||(i[3]=_=>s.value=_),name:"oray"},null,8,["target"])):a.value=="ddns-success"?(o(),O(vc,{key:4,onSetup:l,target:s.value},null,8,["target"])):$("",!0)])]),_:1},8,["Close"]))}});var Wd=S(Gd,[["__scopeId","data-v-5d97cabd"]]);const Wt=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=nt(Wd,ht(vt({},e),{Close:()=>{a()}}));s.mount(u);const a=()=>{s.unmount(),u.remove()};return{Close:a}};var Zd=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var u=document.activeElement,s=[],a=0;a<e.rangeCount;a++)s.push(e.getRangeAt(a));switch(u.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":u.blur();break;default:u=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||s.forEach(function(l){e.addRange(l)}),u&&u.focus()}},jd=Zd,be={"text/plain":"Text","text/html":"Url",default:"Text"},Xd="Copy to clipboard: #{key}, Enter";function Qd(e){var u=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,u)}function Yd(e,u){var s,a,l,p,m,r,n=!1;u||(u={}),s=u.debug||!1;try{l=jd(),p=document.createRange(),m=document.getSelection(),r=document.createElement("span"),r.textContent=e,r.ariaHidden="true",r.style.all="unset",r.style.position="fixed",r.style.top=0,r.style.clip="rect(0, 0, 0, 0)",r.style.whiteSpace="pre",r.style.webkitUserSelect="text",r.style.MozUserSelect="text",r.style.msUserSelect="text",r.style.userSelect="text",r.addEventListener("copy",function(_){if(_.stopPropagation(),u.format)if(_.preventDefault(),typeof _.clipboardData=="undefined"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=be[u.format]||be.default;window.clipboardData.setData(f,e)}else _.clipboardData.clearData(),_.clipboardData.setData(u.format,e);u.onCopy&&(_.preventDefault(),u.onCopy(_.clipboardData))}),document.body.appendChild(r),p.selectNodeContents(r),m.addRange(p);var i=document.execCommand("copy");if(!i)throw new Error("copy command was unsuccessful");n=!0}catch(_){s&&console.error("unable to copy using execCommand: ",_),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(u.format||"text",e),u.onCopy&&u.onCopy(window.clipboardData),n=!0}catch(f){s&&console.error("unable to copy using clipboardData: ",f),s&&console.error("falling back to prompt"),a=Qd("message"in u?u.message:Xd),window.prompt(a,e)}}finally{m&&(typeof m.removeRange=="function"?m.removeRange(p):m.removeAllRanges()),r&&document.body.removeChild(r),l()}return n}var Kd=Yd;const Kt=e=>(q("data-v-2f910f70"),e=e(),U(),e),Jd={class:"button",style:{"margin-bottom":"8px"}},tr={href:"https://www.kooldns.cn/app/#/devices",target:"_blank"},er={class:"row"},ur={class:"text"},sr=Kt(()=>t("span",null,"DDNSTO\uFF1A",-1)),nr={key:0},or=["href","title"],ar={key:0,class:"row"},ir={class:"text"},lr=Kt(()=>t("span",null,"muddns_ipv4\uFF1A",-1)),cr={key:0,class:"configure"},dr=["href"],rr={key:0,class:"button"},_r={key:1,class:"row"},pr={class:"text"},vr=Kt(()=>t("span",null,"muddns_ipv6\uFF1A",-1)),hr={key:0,class:"configure"},Fr=["href"],mr={key:0,class:"button"},fr=V({__name:"ddns",setup(e){const u=g({});let s=!1,a;const l=n=>{Kd(n),A.Message("\u590D\u5236\u6210\u529F")};st(()=>{s=!0,a=window.setTimeout(r,1100)}),Bt(()=>{a!==void 0&&window.clearTimeout(a),s=!1});const p=G(()=>{const n=u.value.ipv4Domain;return!n||n=="Stopped"||n=="Disabled"?n:`http://${n}`}),m=G(()=>{const n=u.value.ipv6Domain;return!n||n=="Stopped"||n=="Disabled"?n:`http://${n}`}),r=function(){!s||P.Guide.Ddns.GET().then(n=>{var i;n!=null&&n.data&&(((i=n==null?void 0:n.data)==null?void 0:i.success)||0)==0&&n.data.result&&(u.value=n.data.result)}).then(()=>{})};return(n,i)=>(o(),O(j,{title:n.$t("\u8FDC\u7A0B\u57DF\u540D"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/3yFiX5-X/",span:24,action:{text:n.$t("\u5FEB\u901F\u914D\u7F6E"),onClick:()=>{R(Wt)({url:u.value.ddnstoDomain})}}},{default:T(()=>{var _,f,b,D,v;return[t("div",Jd,[t("a",tr,F(n.$t("\u524D\u5F80\u63A7\u5236\u53F0")),1)]),t("div",er,[t("div",ur,[sr,(_=u.value)!=null&&_.ddnstoDomain?(o(),d("span",nr,[t("a",{class:"configure",href:(f=u.value)==null?void 0:f.ddnstoDomain,target:"_blank",rel:"noopener noreferrer",title:(b=u.value)==null?void 0:b.ddnstoDomain},F((D=u.value)==null?void 0:D.ddnstoDomain),9,or),t("img",{src:N1,onClick:i[0]||(i[0]=c=>{var E;return l((E=u.value)==null?void 0:E.ddnstoDomain)})})])):(o(),d("span",{key:1,onClick:i[1]||(i[1]=c=>R(Wt)({url:u.value.ddnstoDomain})),style:{color:"#06f",cursor:"pointer"},class:"configure"},F(n.$t("\u7ACB\u5373\u914D\u7F6E\uFF0C\u83B7\u5F97\u514D\u8D39\u5916\u7F51\u57DF\u540D")),1))]),(v=u.value)!=null&&v.ddnstoDomain?(o(),d("span",{key:0,onClick:i[2]||(i[2]=c=>R(Wt)({url:u.value.ddnstoDomain})),style:{color:"#06f",cursor:"pointer","font-size":"12px"}},"\u8BBF\u95EE\u5931\u8D25\uFF1F\u91CD\u65B0\u914D\u7F6E")):$("",!0)]),p.value?(o(),d("div",ar,[t("div",ir,[lr,p.value==="Stopped"||p.value==="Disabled"?(o(),d("span",cr,F(p.value),1)):(o(),d("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:p.value,class:"configure"},F(p.value),9,dr))]),p.value?(o(),d("div",rr,[t("span",{onClick:i[3]||(i[3]=c=>R(at)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},F(n.$t("\u7F16\u8F91")),1)])):$("",!0)])):$("",!0),m.value?(o(),d("div",_r,[t("div",pr,[vr,m.value==="Stopped"||m.value==="Disabled"?(o(),d("span",hr,F(m.value),1)):(o(),d("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:m.value,class:"configure"},F(m.value),9,Fr))]),m.value?(o(),d("div",mr,[t("span",{onClick:i[4]||(i[4]=c=>R(at)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},F(n.$t("\u7F16\u8F91")),1)])):$("",!0)])):$("",!0)]}),_:1},8,["title","action"]))}});var Er=S(fr,[["__scopeId","data-v-2f910f70"]]);const Cr={},gr={width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},$r=t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),br=[$r];function yr(e,u){return o(),d("svg",gr,br)}var Dr=S(Cr,[["render",yr]]);const Q=e=>(q("data-v-097a32fc"),e=e(),U(),e),kr={key:0,class:"action"},Br=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),wr=Q(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),Ar={key:1,class:"action"},xr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Sr=Q(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),Ir={class:"roots"},Pr=Q(()=>t("span",{class:"roots_tit"},"Docker\u6839\u76EE\u5F55\uFF1A",-1)),Vr={class:"root"},Tr={class:"move"},Mr=Q(()=>t("span",{class:"roots_tit"},"\u8FC1\u79FB\u5230\uFF1A",-1)),Lr={key:0},Or=["onSubmit"],zr={class:"select-editable"},Nr=Q(()=>t("option",{selected:"",value:null},"\u8BF7\u9009\u62E9\u8FC1\u79FB\u5730\u5740",-1)),qr=["value"],Ur=Q(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),Hr={key:1,class:"tips"},Rr={class:"tips_content"},Gr=Q(()=>t("span",{class:"tip"},"\u68C0\u6D4B\u5230\u60A8\u8FD8\u6CA1\u6709\u6302\u8F7D\u5916\u7F6E\u786C\u76D8\u6216\u5206\u533A\u5C0F\u4E8E8GB\uFF0C\u9700\u8981\u60A8\u63A5\u4E0A\u786C\u76D8\u5E76\u683C\u5F0F\u5316\u6216\u624B\u52A8\u6302\u8F7D\u786C\u76D8\u540E\uFF0C\u518D\u6267\u884CDocker\u8FC1\u79FB\u5411\u5BFC\uFF0C\u5C06Docker\u8FC1\u79FB\u5230\u76EE\u6807\u786C\u76D8\u3002",-1)),Wr={key:0,class:"btns"},Zr={key:1,class:"btns"},jr={key:2,class:"action docker_success"},Xr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Qr={class:"finished"},Yr=Q(()=>t("p",{class:"successed"},"\u8FC1\u79FB\u6210\u529F\uFF01",-1)),Kr={key:3,class:"action docker_download"},Jr=Q(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),t5={class:"finished"},e5=Q(()=>t("p",{class:"successed"},"\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0D\u4E3A\u7A7A",-1)),u5={class:"docker_moves"},s5={class:"moves change"},n5=Q(()=>t("label",{for:"move"},"\u66F4\u6362\u76EE\u5F55\uFF08\u4E0D\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u4EC5\u5C06docker\u76EE\u5F55\u4FEE\u6539\u4E3A\u76EE\u6807\u8DEF\u5F84\uFF09",-1)),o5={class:"moves"},a5=Q(()=>t("label",{for:"cover"},"\u8986\u76D6\u8FC1\u79FB\uFF08\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u7EE7\u7EED\u8FC1\u79FB\u4F1A\u6E05\u7A7A\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\uFF09",-1)),i5={class:"btns"},l5=V({__name:"index",props:{rootPath:{type:String,required:!0},Close:Function},setup(e){const u=e,s=g(),a=g(),l=g(0),p=g("null"),m=g(""),r=g(),n=g(!1),i=g("");(()=>{P.Nas.Disk.Status.GET().then(h=>{h!=null&&h.data.result&&(r.value=h==null?void 0:h.data.result)}),P.Guide.DockerStatus.GET().then(h=>{var k;if((k=h==null?void 0:h.data)!=null&&k.result){const w=h.data.result;s.value=w}}),P.Guide.DockerPartitionList.GET().then(h=>{var k;if((k=h==null?void 0:h.data)!=null&&k.result){const w=h.data.result;a.value=w}})})();const f=h=>{let k=p.value;if(k=="useInput"&&(k=m.value),k==null||k=="null"||k=="")return;const w=A.Loading("\u6B63\u5728\u8FC1\u79FB\u4E2D...");P.Guide.DockerTransfer.POST({path:k,force:h,overwriteDir:!!i.value}).then(y=>{var C;if(y!=null&&y.data){if((y.data.success||0)==0){if((C=y.data.result)!=null&&C.emptyPathWarning){n.value=!0,l.value=2;return}l.value=1;return}else if(y.data.error)throw y.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(y=>{A.Error(y)}).finally(()=>w.Close())},b=()=>{n.value=!1,f(!1)},D=h=>{h.preventDefault(),u.Close&&u.Close()},v=h=>{h.preventDefault(),location.reload()},c=h=>{h.preventDefault(),l.value=0},E=h=>{h.preventDefault(),f(!0)};return(h,k)=>(o(),O(ot,{Close:e.Close,type:1},{default:T(()=>{var w,y,C,B,H,I;return[l.value==-1?(o(),d("div",kr,[Br,wr,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:D}," \u53D6\u6D88 ")])])):l.value==0?(o(),d("div",Ar,[xr,Sr,t("div",Ir,[Pr,t("span",Vr,F((w=s.value)==null?void 0:w.path),1)]),t("div",Tr,[Mr,(C=(y=a.value)==null?void 0:y.partitionList)!=null&&C.length?(o(),d("div",Lr,[t("form",{onSubmit:lt(b,["prevent"])},[t("label",null,[t("div",zr,[L(t("select",{"onUpdate:modelValue":k[0]||(k[0]=z=>p.value=z)},[Nr,(o(!0),d(N,null,K((B=a.value)==null?void 0:B.partitionList,(z,ut)=>(o(),d("option",{value:z,key:ut},F(z),9,qr))),128)),Ur],512),[[Et,p.value,void 0,{trim:!0}]]),p.value=="useInput"?L((o(),d("input",{key:0,type:"text","onUpdate:modelValue":k[1]||(k[1]=z=>m.value=z),required:"",placeholder:"\u8BF7\u8F93\u5165\u8FC1\u79FB\u5730\u5740"},null,512)),[[Y,m.value,void 0,{trim:!0}]]):$("",!0)])])],40,Or)])):a.value?(o(),d("div",Hr,[t("div",Rr,[x(dt),Gr])])):$("",!0)]),(I=(H=a.value)==null?void 0:H.partitionList)!=null&&I.length?(o(),d("div",Wr,[t("button",{class:"cbi-button cbi-button-apply",onClick:b}," \u786E\u5B9A "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:D}," \u53D6\u6D88 ")])):(o(),d("div",Zr,[t("button",{class:"cbi-button cbi-button-apply",onClick:D}," \u786E\u5B9A ")]))])):l.value==1?(o(),d("div",jr,[Xr,t("div",Qr,[x(Yt)]),Yr,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:v}," \u786E\u5B9A ")])])):l.value==2?(o(),d("div",Kr,[Jr,t("div",t5,[x(Dr)]),e5,t("div",u5,[t("div",s5,[L(t("input",{type:"radio",id:"move",name:"moves","onUpdate:modelValue":k[2]||(k[2]=z=>i.value=z),value:""},null,512),[[it,i.value]]),n5]),t("div",o5,[L(t("input",{type:"radio",id:"cover",name:"moves","onUpdate:modelValue":k[3]||(k[3]=z=>i.value=z),value:"true"},null,512),[[it,i.value]]),a5])]),t("div",i5,[n.value?(o(),d("button",{key:0,class:"cbi-button cbi-button-apply",onClick:E}," \u786E\u5B9A ")):$("",!0),t("button",{class:"cbi-button cbi-button-apply",onClick:c}," \u8FD4\u56DE "),n.value?$("",!0):(o(),d("button",{key:1,class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:v}," \u53D6\u6D88 "))])])):$("",!0)]}),_:1},8,["Close"]))}});var c5=S(l5,[["__scopeId","data-v-097a32fc"]]);const ye=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=nt(c5,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const d5=e=>(q("data-v-750b6b3e"),e=e(),U(),e),r5={class:"button"},_5={class:"row"},p5={class:"text"},v5={key:0,class:"docker-item-value"},h5={class:"configure"},F5={key:1,class:"docker-item-value"},m5={class:"input-switch"},f5=["value","disabled"],E5=d5(()=>t("em",null,null,-1)),C5=[E5],g5={key:0,class:"row"},$5={class:"text"},b5={style:{width:"100%"}},y5={class:"configure"},D5={key:0},k5={class:"tooltip-trigger"},B5={class:"docker_tip"},w5={class:"tooltip-text tooltip-top"},A5={class:"docker_dir_tip"},x5=V({__name:"docker",setup(e){const u=g(!1),s=g(),a=mt({enable:!1,disabled:!1}),l=()=>M(this,null,function*(){const n=A.Loading(a.enable?"Docker\u5F00\u542F\u4E2D...":"Docker\u5173\u95ED\u4E2D...");a.disabled=!0;try{const i=yield P.Guide.DockerSwitch.POST({enable:a.enable});if(i!=null&&i.data){const{success:_,error:f}=i.data;if(f)throw a.enable=!a.enable,f;(_||0)==0&&r()}}catch(i){A.Warning(`${i}`)}finally{a.disabled=!1}n.Close()}),p=()=>{window.open("/cgi-bin/luci/admin/docker/overview","_blank")},m=()=>{ye()},r=()=>{P.Guide.DockerStatus.GET().then(n=>{var i;if((i=n==null?void 0:n.data)!=null&&i.result){const _=n.data.result;s.value=_,_.status==="running"&&(a.enable=!0)}}).finally(()=>{u.value=!0})};return setTimeout(r,1100),(n,i)=>{var _;return o(),O(j,{title:"Docker",padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",moreActions:[{show:((_=s.value)==null?void 0:_.status)==="running",text:"\u67E5\u770BDocker\u4FE1\u606F",onClick:m}],span:24},{default:T(()=>{var f,b,D,v;return[t("div",r5,[t("span",{onClick:i[0]||(i[0]=c=>R(ye)({setup:0}))},F(n.$t("\u8FC1\u79FB\u5411\u5BFC")),1),t("span",{onClick:p},F(n.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)]),t("div",_5,[t("div",p5,[t("span",null,F(n.$t("\u5F53\u524D\u72B6\u6001")),1)]),(f=s.value)!=null&&f.status?(o(),d(N,{key:0},[((b=s.value)==null?void 0:b.status)==="not installed"?(o(),d("div",v5,[t("span",h5,F(n.$t("\u672A\u5B89\u88C5")),1)])):(o(),d("div",F5,[t("label",m5,[L(t("input",{type:"checkbox",hidden:"",value:!a.enable,"onUpdate:modelValue":i[1]||(i[1]=c=>a.enable=c),disabled:a.disabled,onChange:l},null,40,f5),[[Be,a.enable]]),t("span",{class:Qt(a.enable?"enable":"close")},C5,2)])]))],64)):$("",!0)]),a.enable?(o(),d("div",g5,[t("div",$5,[t("span",null,"Docker "+F(n.$t("\u6839\u76EE\u5F55"))+"\uFF1A",1),t("div",b5,[t("span",y5,F((D=s.value)==null?void 0:D.path),1),(v=s.value)!=null&&v.errorInfo?(o(),d("span",D5,[t("span",k5,[t("span",B5,[x(dt)]),t("div",null,[t("div",w5,[t("span",A5,F(s.value.errorInfo),1)])])])])):$("",!0)])])])):$("",!0)]}),_:1},8,["moreActions"])}}});var S5=S(x5,[["__scopeId","data-v-750b6b3e"]]);const I5=e=>(q("data-v-68b4579e"),e=e(),U(),e),P5={class:"select-editable"},V5=["value"],T5=I5(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),M5=["placeholder"],L5=V({__name:"index",props:{modelValue:{type:String,required:!0},title:{type:String,default:""},options:{type:Array,default:[]}},emits:["update:modelValue"],setup(e,{emit:u}){const s=e,a=g(""),l=g(""),p=G({get:()=>s.modelValue.valueOf(),set:i=>u("update:modelValue",i)}),m=i=>{if(i===a.value||a.value==="useInput"&&i===l.value){p.value=s.options[0].key;return}i===""||s.options.some(_=>_.key===i)?a.value=i:(l.value=i,a.value="useInput")};tu(()=>s.modelValue,i=>{m(i)}),st(()=>{const i=p.value;m(i)});const r=i=>{a.value==="useInput"?p.value=l.value:p.value=a.value},n=i=>{p.value=l.value};return(i,_)=>(o(),d("label",null,[t("div",P5,[L(t("select",{"onUpdate:modelValue":_[0]||(_[0]=f=>a.value=f),autocomplete:"off",onChange:r},[(o(!0),d(N,null,K(e.options,(f,b)=>(o(),d("option",{value:f.key,key:b},F(f.value||f.key),9,V5))),128)),T5],544),[[Et,a.value,void 0,{trim:!0}]]),a.value=="useInput"?L((o(),d("input",{key:0,type:"text","onUpdate:modelValue":_[1]||(_[1]=f=>l.value=f),required:"",placeholder:"\u8BF7\u8F93\u5165"+e.title,onChange:n},null,40,M5)),[[Y,l.value,void 0,{trim:!0}]]):$("",!0)])]))}});var kt=S(L5,[["__scopeId","data-v-68b4579e"]]);const O5={},z5={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},N5=t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6","fill-opacity":"0.65"},null,-1),q5=[N5];function U5(e,u){return o(),d("svg",z5,q5)}var $t=S(O5,[["render",U5]]);const W=e=>(q("data-v-f4c41bf2"),e=e(),U(),e),H5={key:0,class:"action"},R5=W(()=>t("h2",{class:"title"},"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",-1)),G5={class:"load_service input_row"},W5=W(()=>t("div",{class:"left"},[t("span",null,"\u4E0B\u8F7D\u670D\u52A1\uFF1A")],-1)),Z5={class:"radios"},j5=W(()=>t("label",{for:"Aria2"},"Aria2",-1)),X5={class:"radios"},Q5=W(()=>t("label",{for:"qB"},"qBittorrent",-1)),Y5={class:"radios"},K5=W(()=>t("label",{for:"Tr"},"Transmission",-1)),J5=["onSubmit"],t6={class:"input_row"},e6={class:"left"},u6={class:"tooltip-trigger"},s6=W(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/aria2\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),n6=W(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),o6={class:"myinput_wrap"},a6={class:"input_row"},i6={class:"left"},l6={class:"tooltip-trigger"},c6=W(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),d6=W(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),r6={class:"myinput_wrap"},_6={class:"input_row"},p6={class:"left"},v6={class:"tooltip-trigger"},h6=W(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-bottom"},[t("span",{class:"dowload_rpc_tip"},"\u7528\u4E8E\u8FDC\u7A0B\u8BBF\u95EE\u7684\u4EE4\u724C\u3002")])],-1)),F6=W(()=>t("span",null,"RPC \u4EE4\u724C\uFF1A",-1)),m6={class:"input_row"},f6=W(()=>t("div",{class:""},[t("span",null,"\u9644\u52A0\u7684 BT Tracker\uFF1A")],-1)),E6={class:"radios"},C6=W(()=>t("label",{for:"default"},"\u9ED8\u8BA4",-1)),g6={class:"radios"},$6=W(()=>t("label",{for:"add"},"\u81EA\u5DF1\u6DFB\u52A0",-1)),b6={class:"input_row"},y6=W(()=>t("div",{class:"left"},null,-1)),D6={class:"myinput_wrap Tracker_input"},k6=["onSubmit"],B6={class:"input_row"},w6={class:"left"},A6={class:"tooltip-trigger"},x6=W(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/qb\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),S6=W(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),I6={class:"myinput_wrap"},P6={class:"input_row"},V6={class:"left"},T6={class:"tooltip-trigger"},M6=W(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),L6=W(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),O6={class:"myinput_wrap"},z6=["onSubmit"],N6={class:"input_row"},q6={class:"left"},U6={class:"tooltip-trigger"},H6=W(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/tr\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),R6=W(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),G6={class:"myinput_wrap"},W6={class:"input_row"},Z6={class:"left"},j6={class:"tooltip-trigger"},X6=W(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),Q6=W(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),Y6={class:"myinput_wrap"},K6={class:"btns"},J6={key:1,class:"action"},t0={class:"title"},e0={class:"finished"},u0=W(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),s0=V({__name:"index",props:{services:{type:Object,required:!0},partitionList:{type:Array,required:!0},defaultTab:{type:String,required:!1},Close:Function},setup(e){const u=e,s=g(""),a=g(""),l=g(""),p=g(""),m=g("default"),r=g("Aria2"),n=g(""),i=g(""),_=g(""),f=g(""),b=g([]),D=g([]),v=g(0);st(()=>{var I,z,ut,xt,St,It,Pt,Vt,Tt,Mt;switch(u.defaultTab){case"aria2":r.value="Aria2";break;case"qbittorrent":r.value="qBittorrent";break;case"transmission":r.value="Transmission";break}b.value=u.partitionList.map(pt=>({key:pt})),D.value=u.partitionList.filter(pt=>pt.startsWith("/mnt/")).map(pt=>pt.replace(/(\/mnt\/[^/]+).*/,"$1")),l.value=((I=u.services.aria2)==null?void 0:I.configPath)||"";const y=((z=u.services.aria2)==null?void 0:z.downloadPath)||((ut=u.services.qbittorrent)==null?void 0:ut.downloadPath)||((xt=u.services.transmission)==null?void 0:xt.downloadPath);y&&(p.value=y);const C=(St=u.services.aria2)==null?void 0:St.rpcToken;C&&(s.value=C),n.value=((It=u.services.qbittorrent)==null?void 0:It.configPath)||"";const B=((Pt=u.services.qbittorrent)==null?void 0:Pt.downloadPath)||y||((Vt=u.services.transmission)==null?void 0:Vt.downloadPath);B&&(i.value=B),_.value=((Tt=u.services.transmission)==null?void 0:Tt.configPath)||"";const H=((Mt=u.services.transmission)==null?void 0:Mt.downloadPath)||y||B;H&&(f.value=H)});const c=()=>{let y=l.value,C=p.value;y==null||y==""||C==null||C==""||M(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-aria2","Aria2")){const H=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.Aria2Init.POST({configPath:y,downloadPath:C,rpcToken:s.value,btTracker:m.value=="add"?a.value:""}).then(I=>{var z;if(I!=null&&I.data){if((I.data.success||0)==0){v.value=1;return}else if((z=I.data)!=null&&z.error)throw I.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(I=>A.Error(I)).finally(()=>H.Close())}})},E=()=>{let y=n.value,C=i.value;y==null||y==""||C==null||C==""||M(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-qbittorrent","qBittorrent")){const H=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.qbitorrentInit.POST({configPath:y,downloadPath:C}).then(I=>{var z;if(I!=null&&I.data){if((I.data.success||0)==0){v.value=1;return}else if((z=I.data)!=null&&z.error)throw I.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(I=>A.Error(I)).finally(()=>H.Close())}})},h=()=>{let y=_.value,C=f.value;y==null||y==""||C==null||C==""||M(this,null,function*(){if(yield rt.checkAndInstallApp("app-meta-transmission","Transmission")){const H=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.transmissionInit.POST({configPath:y,downloadPath:C}).then(I=>{var z;if(I!=null&&I.data){if((I.data.success||0)==0){v.value=1;return}else if((z=I.data)!=null&&z.error)throw I.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(I=>A.Error(I)).finally(()=>H.Close())}})},k=y=>{y.preventDefault(),u.Close&&u.Close()},w=y=>{y.preventDefault(),location.reload()};return(y,C)=>(o(),O(ot,{Close:e.Close,type:1},{default:T(()=>[v.value==0?(o(),d("div",H5,[R5,t("ul",null,[t("li",null,[t("div",G5,[W5,t("div",Z5,[L(t("input",{type:"radio",value:"Aria2","onUpdate:modelValue":C[0]||(C[0]=B=>r.value=B),name:"download",id:"Aria2"},null,512),[[it,r.value]]),j5]),t("div",X5,[L(t("input",{type:"radio",value:"qBittorrent","onUpdate:modelValue":C[1]||(C[1]=B=>r.value=B),name:"download",id:"qB"},null,512),[[it,r.value]]),Q5]),t("div",Y5,[L(t("input",{type:"radio",value:"Transmission","onUpdate:modelValue":C[2]||(C[2]=B=>r.value=B),name:"download",id:"Tr"},null,512),[[it,r.value]]),K5])])])]),r.value=="Aria2"?(o(),d("form",{key:0,onSubmit:lt(c,["prevent"])},[t("ul",null,[t("li",null,[t("div",t6,[t("div",e6,[t("span",u6,[x($t),s6]),n6]),t("div",o6,[x(kt,{modelValue:l.value,"onUpdate:modelValue":C[3]||(C[3]=B=>l.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(B=>({key:B+"/Configs/aria2"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",a6,[t("div",i6,[t("span",l6,[x($t),c6]),d6]),t("div",r6,[x(kt,{modelValue:p.value,"onUpdate:modelValue":C[4]||(C[4]=B=>p.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])]),t("li",null,[t("div",_6,[t("div",p6,[t("span",v6,[x($t),h6]),F6]),L(t("input",{type:"text",class:"RPC_input",placeholder:"\u8BF7\u8F93\u5165RPC\u4EE4\u724C","onUpdate:modelValue":C[5]||(C[5]=B=>s.value=B)},null,512),[[Y,s.value,void 0,{trim:!0}]])])]),t("li",null,[t("div",m6,[f6,t("div",E6,[L(t("input",{type:"radio",value:"default",name:"BT",id:"default","onUpdate:modelValue":C[6]||(C[6]=B=>m.value=B)},null,512),[[it,m.value]]),C6]),t("div",g6,[L(t("input",{type:"radio",value:"add",name:"BT",id:"add","onUpdate:modelValue":C[7]||(C[7]=B=>m.value=B)},null,512),[[it,m.value]]),$6])])]),t("li",null,[t("div",b6,[y6,t("div",D6,[m.value=="add"?L((o(),d("textarea",{key:0,"onUpdate:modelValue":C[8]||(C[8]=B=>a.value=B),rows:"4",placeholder:"\u8BF7\u8F93\u5165BT Tracker\u670D\u52A1\u5668\u5730\u5740\uFF0C\u591A\u4E2A\u5730\u5740\u4F7F\u7528\u6362\u884C\u6216\u8005\u82F1\u6587\u9017\u53F7\u5206\u9694"},null,512)),[[Y,a.value,void 0,{trim:!0}]]):$("",!0)])])])])],40,J5)):$("",!0),r.value=="qBittorrent"?(o(),d("form",{key:1,onSubmit:lt(E,["prevent"])},[t("ul",null,[t("li",null,[t("div",B6,[t("div",w6,[t("span",A6,[x($t),x6]),S6]),t("div",I6,[x(kt,{modelValue:n.value,"onUpdate:modelValue":C[9]||(C[9]=B=>n.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(B=>({key:B+"/Configs/qb"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",P6,[t("div",V6,[t("span",T6,[x($t),M6]),L6]),t("div",O6,[x(kt,{modelValue:i.value,"onUpdate:modelValue":C[10]||(C[10]=B=>i.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])])])],40,k6)):$("",!0),r.value=="Transmission"?(o(),d("form",{key:2,onSubmit:lt(h,["prevent"])},[t("ul",null,[t("li",null,[t("div",N6,[t("div",q6,[t("span",U6,[x($t),H6]),R6]),t("div",G6,[x(kt,{modelValue:_.value,"onUpdate:modelValue":C[11]||(C[11]=B=>_.value=B),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(B=>({key:B+"/Configs/transmission"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",W6,[t("div",Z6,[t("span",j6,[x($t),X6]),Q6]),t("div",Y6,[x(kt,{modelValue:f.value,"onUpdate:modelValue":C[12]||(C[12]=B=>f.value=B),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])])])],40,z6)):$("",!0),t("div",K6,[r.value=="Aria2"?(o(),d("button",{key:0,class:"cbi-button cbi-button-apply",onClick:c}," \u542F\u7528 ")):$("",!0),r.value=="qBittorrent"?(o(),d("button",{key:1,class:"cbi-button cbi-button-apply",onClick:E}," \u542F\u7528 ")):$("",!0),r.value=="Transmission"?(o(),d("button",{key:2,class:"cbi-button cbi-button-apply",onClick:h}," \u542F\u7528 ")):$("",!0),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:k}," \u53D6\u6D88 ")])])):v.value==1?(o(),d("div",J6,[t("h2",t0,F(r.value)+"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",1),t("div",e0,[x(Yt)]),u0,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:w}," \u786E\u5B9A ")])])):$("",!0)]),_:1},8,["Close"]))}});var n0=S(s0,[["__scopeId","data-v-f4c41bf2"]]);const o0=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=nt(n0,ht(vt({},e),{Close:()=>{a()}}));s.mount(u);const a=()=>{s.unmount(),u.remove()};return{Close:a}};const Ut=e=>(q("data-v-63fbd04d"),e=e(),U(),e),a0={class:"service-item"},i0={class:"name"},l0=Ut(()=>t("span",null,"Aria2",-1)),c0={class:"button"},d0={class:"info"},r0=["href"],_0=["href"],p0=Ut(()=>t("span",null,[Z("\u4F7F\u7528"),t("a",{href:"https://doc.linkease.com/zh/guide/linkease_app/tutorial.html#%E8%BF%9C%E7%A8%8B%E4%B8%8B%E8%BD%BD",target:"_blank"},"\u6613\u6709\u4E91APP"),Z("\uFF0C\u968F\u65F6\u968F\u5730\u8FDC\u7A0B\u4E0B\u8F7D")],-1)),v0={key:0},h0=["href"],F0={class:"service-item"},m0={class:"name"},f0=Ut(()=>t("span",null,"qBittorrent",-1)),E0={key:0,class:"button"},C0={class:"info"},g0=["href"],$0=["href"],b0={class:"service-item"},y0={class:"name"},D0=Ut(()=>t("span",null,"Transmission",-1)),k0={key:0,class:"button"},B0={class:"info"},w0=["href"],A0=V({__name:"download",setup(e){const u=g(),s=g("aria2"),a=g(window.location),l=()=>{P.Guide.DownloadPartition.List.GET().then(n=>{var _,f;let i=[];(f=(_=n==null?void 0:n.data)==null?void 0:_.result)!=null&&f.partitionList&&(i=n.data.result.partitionList),o0({services:u.value,partitionList:i,defaultTab:s.value})})},p=()=>{P.Guide.DownloadService.Status.GET().then(n=>{var i;if((i=n==null?void 0:n.data)!=null&&i.result){const _=n.data.result;u.value=_}})},m=G(()=>{var n,i,_;if(u){let f=(n=u==null?void 0:u.aria2)==null?void 0:n.rpcToken;f&&(f=encodeURIComponent(btoa(f)));const b=encodeURIComponent(window.location.hostname);return`${window.location.origin}${(i=u==null?void 0:u.aria2)==null?void 0:i.webPath}/#!/settings/rpc/set/http/${b}/${(_=u==null?void 0:u.aria2)==null?void 0:_.rpcPort}/jsonrpc/${f}`}}),r=(n,i,_)=>M(this,null,function*(){window.open(_,"_blank")});return setTimeout(p,800),(n,i)=>(o(),O(j,{title:n.$t("\u4E0B\u8F7D\u670D\u52A1"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",span:24,action:{text:n.$t("\u5FEB\u901F\u914D\u7F6E"),onClick:l}},{default:T(()=>{var _,f,b,D,v,c,E,h,k,w,y,C,B,H,I,z,ut,xt,St,It,Pt,Vt,Tt,Mt,pt,Jt,te,ee,ue,se,ne,oe,ae,ie,le,ce,de,re,_e,pe;return[t("div",a0,[t("div",i0,[t("span",null,[l0,t("span",null,F(n.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),t("div",c0,[t("span",{onClick:i[0]||(i[0]=ve=>r("app-meta-aria2","Aria2","/cgi-bin/luci/admin/services/aria2"))},F(n.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])]),t("div",d0,[t("span",null,F(n.$t("\u5F53\u524D\u72B6\u6001"))+"\uFF1A"+F(`${((f=(_=u.value)==null?void 0:_.aria2)==null?void 0:f.status)==="running"?n.$t("\u5DF2\u542F\u52A8"):n.$t("\u672A\u542F\u52A8")}`),1),((D=(b=u.value)==null?void 0:b.aria2)==null?void 0:D.status)=="running"?(o(),d(N,{key:0},[t("span",null,[Z(F(n.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((c=(v=u.value)==null?void 0:v.aria2)==null?void 0:c.downloadPath)},F((h=(E=u.value)==null?void 0:E.aria2)==null?void 0:h.downloadPath),9,r0)]),t("span",null,[Z(F(n.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${a.value.hostname}${(w=(k=u.value)==null?void 0:k.aria2)==null?void 0:w.webPath}`,target:"_blank",rel:"noopener noreferrer"},F(`http://${a.value.hostname}${(C=(y=u.value)==null?void 0:y.aria2)==null?void 0:C.webPath}`),9,_0)])],64)):$("",!0),t("div",null,[p0,((H=(B=u.value)==null?void 0:B.aria2)==null?void 0:H.status)==="running"?(o(),d("span",v0,[Z(F(n.$t("\u8BA4\u8BC1\u5931\u8D25"))+"\uFF1F ",1),t("a",{href:m.value,target:"_blank",rel:"noopener noreferrer"}," \u70B9\u6B64\u81EA\u52A8\u586B\u5145\u5BC6\u94A5 ",8,h0)])):$("",!0)])])]),t("div",F0,[t("div",m0,[t("span",null,[f0,t("span",null,F(n.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),((z=(I=u.value)==null?void 0:I.qbittorrent)==null?void 0:z.status)==="running"?(o(),d("div",E0,[t("span",{onClick:i[1]||(i[1]=ve=>r("app-meta-qbittorrent","qBittorrent","/cgi-bin/luci/admin/nas/qBittorrent"))},F(n.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])):$("",!0)]),t("div",C0,[t("span",null,F(`${n.$t("\u5F53\u524D\u72B6\u6001")}\uFF1A${((xt=(ut=u.value)==null?void 0:ut.qbittorrent)==null?void 0:xt.status)==="running"?n.$t("\u5DF2\u542F\u52A8"):n.$t("\u672A\u542F\u52A8")}`),1),((It=(St=u.value)==null?void 0:St.qbittorrent)==null?void 0:It.status)=="running"?(o(),d(N,{key:0},[t("span",null,[Z(F(n.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((Vt=(Pt=u.value)==null?void 0:Pt.qbittorrent)==null?void 0:Vt.downloadPath)},F((Mt=(Tt=u.value)==null?void 0:Tt.qbittorrent)==null?void 0:Mt.downloadPath),9,g0)]),t("span",null,[Z(F(n.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${a.value.hostname}${(Jt=(pt=u.value)==null?void 0:pt.qbittorrent)==null?void 0:Jt.webPath}`,target:"_blank",rel:"noopener noreferrer"},F(`http://${a.value.hostname}${(ee=(te=u.value)==null?void 0:te.qbittorrent)==null?void 0:ee.webPath}`),9,$0)])],64)):$("",!0)])]),t("div",b0,[t("div",y0,[t("span",null,[D0,t("span",null,F(n.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),((se=(ue=u.value)==null?void 0:ue.transmission)==null?void 0:se.status)==="running"?(o(),d("div",k0,[t("span",{onClick:i[2]||(i[2]=ve=>r("app-meta-transmission","Transmission","/cgi-bin/luci/admin/services/transmission"))},F(n.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])):$("",!0)]),t("div",B0,[t("span",null,F(`${n.$t("\u5F53\u524D\u72B6\u6001")}\uFF1A${((oe=(ne=u.value)==null?void 0:ne.transmission)==null?void 0:oe.status)==="running"?n.$t("\u5DF2\u542F\u52A8"):n.$t("\u672A\u542F\u52A8")}`),1),((ie=(ae=u.value)==null?void 0:ae.transmission)==null?void 0:ie.status)=="running"?(o(),d(N,{key:0},[t("span",null,F(n.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A "+F("/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((ce=(le=u.value)==null?void 0:le.transmission)==null?void 0:ce.downloadPath)),1),t("span",null,[Z(F(n.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1Ahttp ",1),t("a",{href:`http://${a.value.hostname}${(re=(de=u.value)==null?void 0:de.transmission)==null?void 0:re.webPath}`,target:"_blank",rel:"noopener noreferrer"},F(`http://${a.value.hostname}${(pe=(_e=u.value)==null?void 0:_e.transmission)==null?void 0:pe.webPath}`),9,w0)])],64)):$("",!0)])])]}),_:1},8,["title","action"]))}});var x0=S(A0,[["__scopeId","data-v-63fbd04d"]]);const S0=V({__name:"index",setup(e){return(u,s)=>(o(),O(ft,{title:u.$t("\u670D\u52A1\u72B6\u6001"),contentStyle:"flex-flow: column"},{default:T(()=>[x(Er),x(S5),x(x0)]),_:1},8,["title"]))}});var I0="/luci-static/istorex/file.png?v=055a0ac9",P0="/luci-static/istorex/user.png?v=fa675eea",V0="/luci-static/istorex/setting.png?v=bf214b33",T0="/luci-static/istorex/file-manage.png?v=3297497e",M0="/luci-static/istorex/sync.png?v=8384453e",L0="/luci-static/istorex/photo.png?v=3178eb60",O0="/luci-static/istorex/network.png?v=3314b340",z0="/luci-static/istorex/nas.png?v=902703f1";const ze=e=>(q("data-v-a711c820"),e=e(),U(),e),N0={class:"container"},q0={key:0,class:"desc"},U0=ze(()=>t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F",-1)),H0={key:1,class:"desc"},R0=ze(()=>t("span",null,[Z(" \u76F8\u518C\u5907\u4EFD\u529F\u80FD\u7531 "),t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F"),Z(" \u63D0\u4F9B ")],-1)),G0=["href"],W0=V({__name:"install-photobackup",setup(e){const u=g(""),s=g(""),a=()=>M(this,null,function*(){const m=A.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){s.value="installed",A.Success("\u5B89\u88C5\u6210\u529F"),p();return}else A.Success("\u5B89\u88C5\u5931\u8D25")}finally{m.Close()}}),l=G(()=>`http://${location.hostname}:${u.value}`),p=()=>{P.Nas.Linkease.Enable.POST().then(m=>{var r,n;(r=m==null?void 0:m.data)!=null&&r.result&&(u.value=((n=m.data.result)==null?void 0:n.port)||"")})};return st(()=>M(this,null,function*(){const m=yield P.App.Check.POST({name:"linkease"});if(m!=null&&m.data){const{result:r,error:n}=m.data;r!=null&&r.status&&(s.value=r==null?void 0:r.status,r.status==="installed"&&p())}})),(m,r)=>(o(),O(Se,{title:"\u63D0\u793A",width:"572px"},{default:T(()=>[t("div",N0,[s.value==="uninstalled"?(o(),d("p",q0,[Z(" \u76F8\u518C\u5907\u4EFD\u529F\u80FD\u7531 "),U0,Z(" \u63D0\u4F9B\uFF0C\u53EF\u4EE5\u5C06\u624B\u673A\u76F8\u518C\u5907\u4EFD\u81F3\u672C\u8BBE\u5907\u4F7F\u7528\u524D\u9700\u8981\u5B89\u88C5\u6613\u6709\u4E91 ")])):$("",!0),s.value==="installed"?(o(),d("p",H0,[R0,t("span",null,"\u8BBF\u95EE\u94FE\u63A5\uFF1A"+F(l.value),1)])):$("",!0),s.value==="uninstalled"?(o(),d("button",{key:2,class:"btn",onClick:a}," \u7ACB\u5373\u5B89\u88C5 ")):$("",!0),s.value==="installed"?(o(),d("a",{key:3,class:"btn",target:"_blank",href:l.value},"\u7ACB\u5373\u8BBF\u95EE",8,G0)):$("",!0)])]),_:1}))}});var Z0=S(W0,[["__scopeId","data-v-a711c820"]]);const Ne=e=>(q("data-v-7c1d7115"),e=e(),U(),e),j0={class:"container"},X0={key:0,class:"desc"},Q0=Ne(()=>t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F",-1)),Y0={key:1,class:"desc"},K0=Ne(()=>t("span",null,[Z(" \u6587\u4EF6\u540C\u6B65\u529F\u80FD\u7531 "),t("a",{href:"https://www.linkease.com/",target:"_blank"},"\u6613\u6709\u4E91\u2122 \uFE0F"),Z(" \u63D0\u4F9B ")],-1)),J0=["href"],t2=V({__name:"file-sync",setup(e){const u=g(""),s=g(""),a=()=>M(this,null,function*(){const m=A.Loading("\u5B89\u88C5\u4E2D...");try{if(yield rt.installApp("app-meta-ddnsto",30)){s.value="installed",A.Success("\u5B89\u88C5\u6210\u529F"),p();return}else A.Success("\u5B89\u88C5\u5931\u8D25")}finally{m.Close()}}),l=G(()=>`http://${location.hostname}:${u.value}`),p=()=>{P.Nas.Linkease.Enable.POST().then(m=>{var r,n;(r=m==null?void 0:m.data)!=null&&r.result&&(u.value=((n=m.data.result)==null?void 0:n.port)||"")})};return st(()=>M(this,null,function*(){const m=yield P.App.Check.POST({name:"linkease"});if(m!=null&&m.data){const{result:r,error:n}=m.data;r!=null&&r.status&&(s.value=r==null?void 0:r.status,r.status==="installed"&&p())}})),(m,r)=>(o(),O(Se,{title:"\u63D0\u793A",width:"572px"},{default:T(()=>[t("div",j0,[s.value==="uninstalled"?(o(),d("p",X0,[Z(" \u6587\u4EF6\u540C\u6B65\u529F\u80FD\u7531 "),Q0,Z(" \u63D0\u4F9B\uFF0C\u53EF\u4EE5\u540C\u65F6\u76F8\u4E92\u5907\u4EFD\u591A\u53F0\u8BBE\u5907\u6587\u4EF6\u4F7F\u7528\u524D\u9700\u8981\u5B89\u88C5\u6613\u6709\u4E91 ")])):$("",!0),s.value==="installed"?(o(),d("p",Y0,[K0,t("span",null,"\u8BBF\u95EE\u94FE\u63A5\uFF1A"+F(l.value),1)])):$("",!0),s.value==="uninstalled"?(o(),d("button",{key:2,class:"btn",onClick:a}," \u7ACB\u5373\u5B89\u88C5 ")):$("",!0),s.value==="installed"?(o(),d("a",{key:3,class:"btn",target:"_blank",href:l.value},"\u7ACB\u5373\u8BBF\u95EE",8,J0)):$("",!0)])]),_:1}))}});var e2=S(t2,[["__scopeId","data-v-7c1d7115"]]);class u2 extends eu{Open(u){u==="sync"&&this.openWindow(e2),u==="backup"&&this.openWindow(Z0)}}const De=new u2;const At=e=>(q("data-v-33ea39b6"),e=e(),U(),e),s2={class:"width-60 responsive"},n2={class:"card-content"},o2=At(()=>t("div",null,[t("img",{src:I0,alt:"\u5171\u4EAB\u6587\u4EF6"})],-1)),a2=At(()=>t("div",null,[t("img",{src:P0,alt:"\u5171\u4EAB\u7528\u6237"})],-1)),i2={class:"card-content"},l2=At(()=>t("div",null,[t("img",{src:V0,alt:"\u5171\u4EAB\u8BBE\u7F6E"})],-1)),c2={class:"card-content"},d2=At(()=>t("div",null,[t("img",{src:T0,alt:"\u6587\u4EF6\u7BA1\u7406"})],-1)),r2=At(()=>t("div",null,[t("img",{src:M0,alt:"\u6587\u4EF6\u540C\u6B65"})],-1)),_2=At(()=>t("div",null,[t("img",{src:L0,alt:"\u76F8\u518C\u5907\u4EFD"})],-1)),p2={class:"width-40 responsive"},v2={class:"card-content"},h2=["alt"],F2={class:"card-content"},m2=["alt"],f2=V({__name:"index",setup(e){const u=()=>{we.OpenGuideWindow()},s=()=>{window.open("/cgi-bin/luci/admin/services/linkease/file","_blank")},a=()=>{A.Message("\u6682\u672A\u5F00\u653E")};return(l,p)=>(o(),d("div",null,[t("div",s2,[x(ft,{title:l.$t("\u5171\u4EAB\u529F\u80FD"),height:"140px"},{default:T(()=>[x(j,{span:8,onClick:p[0]||(p[0]=m=>R(ru).Open())},{default:T(()=>[t("div",n2,[o2,t("span",null,F(l.$t("\u5171\u4EAB\u6587\u4EF6")),1)])]),_:1}),x(j,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:p[1]||(p[1]=m=>R(_u).Open())},[a2,t("span",null,F(l.$t("\u5171\u4EAB\u7528\u6237")),1)])]),_:1}),x(j,{span:8,onClick:p[2]||(p[2]=m=>a())},{default:T(()=>[t("div",i2,[l2,t("span",null,F(l.$t("\u5171\u4EAB\u8BBE\u7F6E")),1)])]),_:1})]),_:1},8,["title"]),x(ft,{title:l.$t("\u5176\u4ED6\u529F\u80FD"),height:"140px"},{default:T(()=>[x(j,{span:8,onClick:s},{default:T(()=>[t("div",c2,[d2,t("span",null,F(l.$t("\u6587\u4EF6\u7BA1\u7406")),1)])]),_:1}),x(j,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:p[3]||(p[3]=m=>R(De).Open("sync"))},[r2,t("span",null,F(l.$t("\u6587\u4EF6\u540C\u6B65")),1)])]),_:1}),x(j,{span:8},{default:T(()=>[t("div",{class:"card-content",onClick:p[4]||(p[4]=m=>R(De).Open("backup"))},[_2,t("span",null,F(l.$t("\u76F8\u518C\u5907\u4EFD")),1)])]),_:1})]),_:1},8,["title"])]),t("div",p2,[x(ft,{height:"288px",title:l.$t("\u5411\u5BFC\u529F\u80FD")},{default:T(()=>[x(j,{span:12,onClick:p[5]||(p[5]=m=>R(at)({title:l.$t("\u7F51\u7EDC\u5411\u5BFC"),src:"/cgi-bin/luci/admin/quickstart/network"}))},{default:T(()=>[t("div",v2,[t("div",null,[t("img",{src:O0,alt:l.$t("\u7F51\u7EDC\u5411\u5BFC")},null,8,h2)]),t("span",null,F(l.$t("\u7F51\u7EDC\u5411\u5BFC")),1)])]),_:1}),x(j,{span:12,onClick:p[6]||(p[6]=m=>u())},{default:T(()=>[t("div",F2,[t("div",null,[t("img",{src:z0,alt:l.$t("NAS\u5411\u5BFC")},null,8,m2)]),t("span",null,F(l.$t("NAS\u5411\u5BFC")),1)])]),_:1})]),_:1},8,["title"])])]))}});var E2=S(f2,[["__scopeId","data-v-33ea39b6"]]);const C2=V({__name:"index",setup(e){const u=xe(),s=G(()=>u.portitemStyle.portitem),a=G(()=>u.portitemStyle.show),l=G(()=>({bottom:`calc(100% - ${u.portitemStyle.top}px)`,left:`${u.portitemStyle.left}px`})),p=n=>{switch(n){case"full":return"\u5168\u53CC\u5DE5";case"half":return"\u534A\u53CC\u5DE5"}},m=n=>{u.portitemStyle.show=!0},r=n=>{u.portitemStyle.show=!1};return(n,i)=>a.value?(o(),d("div",{key:0,class:"disk-item-tooltip",style:tt(l.value),onMouseenter:m,onMouseleave:r},[t("div",null,F(p(s.value.duplex)),1),t("div",null,"\u540D\u79F0\uFF1A"+F(s.value.name||"--"),1),t("div",null,"MAC\uFF1A"+F(s.value.macAddress||"--"),1),t("div",null,"\u63A5\u6536\uFF1A"+F(s.value.rx_packets||"--"),1),t("div",null,"\u53D1\u9001\uFF1A"+F(s.value.tx_packets||"--"),1)],36)):$("",!0)}});var g2=S(C2,[["__scopeId","data-v-4955cc3f"]]);const $2={class:"next-main",style:{}},b2={class:"content"},y2=V({__name:"index",setup(e){return(u,s)=>(o(),d("div",$2,[x(Yu),t("div",b2,[t("div",null,[x(us),x(na),x(qa),x(B1)]),t("div",null,[x(E2),x(z1),x(S0)])]),x(g2)]))}});var A2=S(y2,[["__scopeId","data-v-745f7c2c"]]);export{A2 as default};
